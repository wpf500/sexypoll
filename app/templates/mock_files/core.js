!function(e,t){function n(e,t){var n,r;t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),document.createEvent?(n=document.createEvent("HTMLEvents"),n.initEvent(e,!0,!0)):(n=document.createEventObject(),n.eventType=e);for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);if(document.createEvent)document.dispatchEvent(n);else try{document.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(o){}}function r(e){this.name="RavenConfigError",this.message=e}function o(e){var t=$.exec(e),n={},o=7;try{for(;o--;)n[I[o]]=t[o]||""}catch(i){throw new r("Invalid DSN: "+e)}if(n.pass)throw new r("Do not specify your private key in the DSN!");return n}function i(e){return"undefined"==typeof e}function a(e){return"function"==typeof e}function s(e){return"string"==typeof e}function u(e){for(var t in e)return!1;return!0}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){var n,r;if(i(e.length))for(n in e)e.hasOwnProperty(n)&&t.call(null,n,e[n]);else if(r=e.length)for(n=0;r>n;n++)t.call(null,n,e[n])}function f(){D="?sentry_version=4&sentry_client=raven-js/"+H.VERSION+"&sentry_key="+q}function p(e,t){var r=[];e.stack&&e.stack.length&&l(e.stack,function(e,t){var n=d(t);n&&r.push(n)}),n("handle",{stackInfo:e,options:t}),m(e.name,e.message,e.url,e.lineno,r,t)}function d(e){if(e.url){var t,n={filename:e.url,lineno:e.line,colno:e.column,"function":e.func||"?"},r=h(e);if(r){var o=["pre_context","context_line","post_context"];for(t=3;t--;)n[o[t]]=r[t]}return n.in_app=!(!M.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n["function"])||/raven\.(min\.)js$/.test(n.filename)),n}}function h(e){if(e.context&&M.fetchContext){for(var t=e.context,n=~~(t.length/2),r=t.length,o=!1;r--;)if(t[r].length>300){o=!0;break}if(o){if(i(e.column))return;return[[],t[n].substr(e.column,50),[]]}return[t.slice(0,n),t[n],t.slice(n+1)]}}function m(e,t,n,r,o,i){var a,s;t+="",("Error"!==e||t)&&(M.ignoreErrors.test(t)||(o&&o.length?(n=o[0].filename||n,o.reverse(),a={frames:o}):n&&(a={frames:[{filename:n,lineno:r,in_app:!0}]}),t=y(t,100),M.ignoreUrls&&M.ignoreUrls.test(n)||(!M.whitelistUrls||M.whitelistUrls.test(n))&&(s=r?t+" at "+r:t,b(g({exception:{type:e,value:t},stacktrace:a,culprit:n,message:s},i)))))}function g(e,t){return t?(l(t,function(t,n){e[t]=n}),e):e}function y(e,t){return e.length<=t?e:e.substr(0,t)+"â€¦"}function v(){var e={url:document.location.href,headers:{"User-Agent":navigator.userAgent}};return document.referrer&&(e.headers.Referer=document.referrer),e}function b(e){x()&&(e=g({project:P,logger:M.logger,site:M.site,platform:"javascript",request:v()},e),e.tags=g(M.tags,e.tags),e.extra=g(M.extra,e.extra),u(e.tags)&&delete e.tags,u(e.extra)&&delete e.extra,L&&(e.user=L),a(M.dataCallback)&&(e=M.dataCallback(e)),(!a(M.shouldSendCallback)||M.shouldSendCallback(e))&&(O=e.event_id||(e.event_id=j()),w(e)))}function w(e){var t=new Image,r=A+D+"&sentry_data="+encodeURIComponent(JSON.stringify(e));t.onload=function(){n("success",{data:e,src:r})},t.onerror=t.onabort=function(){n("failure",{data:e,src:r})},t.src=r}function x(){return R?A?!0:(e.console&&console.error&&console.error("Error: Raven has not been configured."),!1):!1}function _(e){for(var t,n=[],r=0,o=e.length;o>r;r++)t=e[r],s(t)?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function j(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}function S(){var t=e.RavenConfig;t&&H.config(t.dsn,t.config).install()}var k={remoteFetching:!1,collectWindowErrors:!0,linesOfContext:7},C=[].slice,E="?";k.wrap=function(e){function t(){try{return e.apply(this,arguments)}catch(t){throw k.report(t),t}}return t},k.report=function(){function n(e){s(),h.push(e)}function r(e){for(var t=h.length-1;t>=0;--t)h[t]===e&&h.splice(t,1)}function o(){u(),h=[]}function i(e,t){var n=null;if(!t||k.collectWindowErrors){for(var r in h)if(c(h,r))try{h[r].apply(null,[e].concat(C.call(arguments,2)))}catch(o){n=o}if(n)throw n}}function a(e,t,n,r,o){var a=null;if(y)k.computeStackTrace.augmentStackTraceWithInitialElement(y,t,n,e),l();else if(o)a=k.computeStackTrace(o),i(a,!0);else{var s={url:t,line:n,column:r};s.func=k.computeStackTrace.guessFunctionName(s.url,s.line),s.context=k.computeStackTrace.gatherContext(s.url,s.line),a={message:e,url:document.location.href,stack:[s]},i(a,!0)}return p?p.apply(this,arguments):!1}function s(){d||(p=e.onerror,e.onerror=a,d=!0)}function u(){d&&(e.onerror=p,d=!1,p=t)}function l(){var e=y,t=m;m=null,y=null,g=null,i.apply(null,[e,!1].concat(t))}function f(t,n){var r=C.call(arguments,1);if(y){if(g===t)return;l()}var o=k.computeStackTrace(t);if(y=o,g=t,m=r,e.setTimeout(function(){g===t&&l()},o.incomplete?2e3:0),n!==!1)throw t}var p,d,h=[],m=null,g=null,y=null;return f.subscribe=n,f.unsubscribe=r,f.uninstall=o,f}(),k.computeStackTrace=function(){function t(t){if(!k.remoteFetching)return"";try{var n=function(){try{return new e.XMLHttpRequest}catch(t){return new e.ActiveXObject("Microsoft.XMLHTTP")}},r=n();return r.open("GET",t,!1),r.send(""),r.responseText}catch(o){return""}}function n(e){if(!s(e))return[];if(!c(x,e)){var n="";-1!==e.indexOf(document.domain)&&(n=t(e)),x[e]=n?n.split("\n"):[]}return x[e]}function r(e,t){var r,o=/function ([^(]*)\(([^)]*)\)/,a=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,s="",u=10,c=n(e);if(!c.length)return E;for(var l=0;u>l;++l)if(s=c[t-l]+s,!i(s)){if(r=a.exec(s))return r[1];if(r=o.exec(s))return r[1]}return E}function o(e,t){var r=n(e);if(!r.length)return null;var o=[],a=Math.floor(k.linesOfContext/2),s=a+k.linesOfContext%2,u=Math.max(0,t-a-1),c=Math.min(r.length,t+s-1);t-=1;for(var l=u;c>l;++l)i(r[l])||o.push(r[l]);return o.length>0?o:null}function a(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function u(e){return a(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function l(e,t){for(var r,o,i=0,a=t.length;a>i;++i)if((r=n(t[i])).length&&(r=r.join("\n"),o=e.exec(r)))return{url:t[i],line:r.substring(0,o.index).split("\n").length,column:o.index-r.lastIndexOf("\n",o.index)-1};return null}function f(e,t,r){var o,i=n(t),s=new RegExp("\\b"+a(e)+"\\b");return r-=1,i&&i.length>r&&(o=s.exec(i[r]))?o.index:null}function p(t){for(var n,r,o,i,s=[e.location.href],c=document.getElementsByTagName("script"),f=""+t,p=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,d=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,h=0;h<c.length;++h){var m=c[h];m.src&&s.push(m.src)}if(o=p.exec(f)){var g=o[1]?"\\s+"+o[1]:"",y=o[2].split(",").join("\\s*,\\s*");n=a(o[3]).replace(/;$/,";?"),r=new RegExp("function"+g+"\\s*\\(\\s*"+y+"\\s*\\)\\s*{\\s*"+n+"\\s*}")}else r=new RegExp(a(f).replace(/\s+/g,"\\s+"));if(i=l(r,s))return i;if(o=d.exec(f)){var v=o[1];if(n=u(o[2]),r=new RegExp("on"+v+"=[\\'\"]\\s*"+n+"\\s*[\\'\"]","i"),i=l(r,s[0]))return i;if(r=new RegExp(n),i=l(r,s))return i}return null}function d(e){if(!e.stack)return null;for(var t,n,a=/^\s*at (?:((?:\[object object\])?\S+(?: \[as \S+\])?) )?\(?((?:file|https?):.*?):(\d+)(?::(\d+))?\)?\s*$/i,s=/^\s*(\S*)(?:\((.*?)\))?@((?:file|https?).*?):(\d+)(?::(\d+))?\s*$/i,u=e.stack.split("\n"),c=[],l=/^(.*) is undefined$/.exec(e.message),p=0,d=u.length;d>p;++p){if(t=s.exec(u[p]))n={url:t[3],func:t[1]||E,args:t[2]?t[2].split(","):"",line:+t[4],column:t[5]?+t[5]:null};else{if(!(t=a.exec(u[p])))continue;n={url:t[2],func:t[1]||E,line:+t[3],column:t[4]?+t[4]:null}}!n.func&&n.line&&(n.func=r(n.url,n.line)),n.line&&(n.context=o(n.url,n.line)),c.push(n)}return c.length?(c[0].line&&!c[0].column&&l?c[0].column=f(l[1],c[0].url,c[0].line):c[0].column||i(e.columnNumber)||(c[0].column=e.columnNumber+1),{name:e.name,message:e.message,url:document.location.href,stack:c}):null}function h(e){for(var t,n=e.stacktrace,i=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,a=n.split("\n"),s=[],u=0,c=a.length;c>u;u+=2)if(t=i.exec(a[u])){var l={line:+t[1],column:+t[2],func:t[3]||t[4],args:t[5]?t[5].split(","):[],url:t[6]};if(!l.func&&l.line&&(l.func=r(l.url,l.line)),l.line)try{l.context=o(l.url,l.line)}catch(f){}l.context||(l.context=[a[u+1]]),s.push(l)}return s.length?{name:e.name,message:e.message,url:document.location.href,stack:s}:null}function m(t){var i=t.message.split("\n");if(i.length<4)return null;var a,s,f,p,d=/^\s*Line (\d+) of linked script ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,h=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,m=/^\s*Line (\d+) of function script\s*$/i,g=[],y=document.getElementsByTagName("script"),v=[];for(s in y)c(y,s)&&!y[s].src&&v.push(y[s]);for(s=2,f=i.length;f>s;s+=2){var b=null;if(a=d.exec(i[s]))b={url:a[2],func:a[3],line:+a[1]};else if(a=h.exec(i[s])){b={url:a[3],func:a[4]};var w=+a[1],x=v[a[2]-1];if(x&&(p=n(b.url))){p=p.join("\n");var _=p.indexOf(x.innerText);_>=0&&(b.line=w+p.substring(0,_).split("\n").length)}}else if(a=m.exec(i[s])){var j=e.location.href.replace(/#.*$/,""),S=a[1],k=new RegExp(u(i[s+1]));p=l(k,[j]),b={url:j,line:p?p.line:S,func:""}}if(b){b.func||(b.func=r(b.url,b.line));var C=o(b.url,b.line),E=C?C[Math.floor(C.length/2)]:null;b.context=C&&E.replace(/^\s*/,"")===i[s+1].replace(/^\s*/,"")?C:[i[s+1]],g.push(b)}}return g.length?{name:t.name,message:i[0],url:document.location.href,stack:g}:null}function g(e,t,n,i){var a={url:t,line:n};if(a.url&&a.line){e.incomplete=!1,a.func||(a.func=r(a.url,a.line)),a.context||(a.context=o(a.url,a.line));var s=/ '([^']+)' /.exec(i);if(s&&(a.column=f(s[1],a.url,a.line)),e.stack.length>0&&e.stack[0].url===a.url){if(e.stack[0].line===a.line)return!1;if(!e.stack[0].line&&e.stack[0].func===a.func)return e.stack[0].line=a.line,e.stack[0].context=a.context,!1}return e.stack.unshift(a),e.partial=!0,!0}return e.incomplete=!0,!1}function y(e,t){for(var n,o,i,a=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,s=[],u={},c=!1,l=y.caller;l&&!c;l=l.caller)if(l!==v&&l!==k.report){if(o={url:null,func:E,line:null,column:null},l.name?o.func=l.name:(n=a.exec(l.toString()))&&(o.func=n[1]),i=p(l)){o.url=i.url,o.line=i.line,o.func===E&&(o.func=r(o.url,o.line));var d=/ '([^']+)' /.exec(e.message||e.description);d&&(o.column=f(d[1],i.url,i.line))}u[""+l]?c=!0:u[""+l]=!0,s.push(o)}t&&s.splice(0,t);var h={name:e.name,message:e.message,url:document.location.href,stack:s};return g(h,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),h}function v(e,t){var n=null;t=null==t?0:+t;try{if(n=h(e))return n}catch(r){if(w)throw r}try{if(n=d(e))return n}catch(r){if(w)throw r}try{if(n=m(e))return n}catch(r){if(w)throw r}try{if(n=y(e,t+1))return n}catch(r){if(w)throw r}return{}}function b(e){e=(null==e?0:+e)+1;try{throw new Error}catch(t){return v(t,e+1)}}var w=!1,x={};return v.augmentStackTraceWithInitialElement=g,v.guessFunctionName=r,v.gatherContext=o,v.ofCaller=b,v}();var T,O,A,L,q,P,D,N=e.Raven,R=!(!e.JSON||!e.JSON.stringify),M={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],collectWindowErrors:!0,tags:{},extra:{}},H={VERSION:"1.1.15",noConflict:function(){return e.Raven=N,H},config:function(e,t){if(!e)return H;var n=o(e),r=n.path.lastIndexOf("/"),i=n.path.substr(1,r);return t&&l(t,function(e,t){M[e]=t}),M.ignoreErrors.push("Script error."),M.ignoreErrors.push("Script error"),M.ignoreErrors=_(M.ignoreErrors),M.ignoreUrls=M.ignoreUrls.length?_(M.ignoreUrls):!1,M.whitelistUrls=M.whitelistUrls.length?_(M.whitelistUrls):!1,M.includePaths=_(M.includePaths),q=n.user,P=n.path.substr(r+1),A="//"+n.host+(n.port?":"+n.port:"")+"/"+i+"api/"+P+"/store/",n.protocol&&(A=n.protocol+":"+A),M.fetchContext&&(k.remoteFetching=!0),M.linesOfContext&&(k.linesOfContext=M.linesOfContext),k.collectWindowErrors=!!M.collectWindowErrors,f(),H},install:function(){return x()&&k.report.subscribe(p),H},context:function(e,n,r){return a(e)&&(r=n||[],n=e,e=t),H.wrap(e,n).apply(this,r)},wrap:function(e,n){function r(){for(var t=[],r=arguments.length,o=!e||e&&e.deep!==!1;r--;)t[r]=o?H.wrap(e,arguments[r]):arguments[r];try{return n.apply(this,t)}catch(i){throw H.captureException(i,e),i}}if(i(n)&&!a(e))return e;if(a(e)&&(n=e,e=t),!a(n))return n;if(n.__raven__)return n;for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o]);return r.__raven__=!0,r.__inner__=n,r},uninstall:function(){return k.report.uninstall(),H},captureException:function(e,t){if(!(e instanceof Error))return H.captureMessage(e,t);T=e;try{k.report(e,t)}catch(n){if(e!==n)throw n}return H},captureMessage:function(e,t){return b(g({message:e+""},t)),H},setUser:function(e){return L=e,H},lastException:function(){return T},lastEventId:function(){return O}},I="source protocol user pass host port path".split(" "),$=/^(?:(\w+):)?\/\/(\w+)(:\w+)?@([\w\.-]+)(?::(\d+))?(\/.*)/;r.prototype=new Error,r.prototype.constructor=r,S(),e.Raven=H,"function"==typeof define&&define.amd&&define("raven",[],function(){return H})}(this),define("lodash/arrays/compact",[],function(){function e(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var o=e[t];o&&r.push(o)}return r}return e}),define("lodash/internals/isNative",[],function(){function e(e){return"function"==typeof e&&r.test(e)}var t=Object.prototype,n=t.toString,r=RegExp("^"+String(n).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");return e}),define("lodash/internals/objectTypes",[],function(){var e={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};return e}),define("lodash/objects/isObject",["../internals/objectTypes"],function(e){function t(t){return!(!t||!e[typeof t])}return t}),define("lodash/utilities/noop",[],function(){function e(){}return e}),define("lodash/internals/baseCreate",["./isNative","../objects/isObject","../utilities/noop"],function(e,t){function n(e){return t(e)?r(e):{}}var r=e(r=Object.create)&&r;return r||(n=function(){function e(){}return function(n){if(t(n)){e.prototype=n;var r=new e;e.prototype=null}return r||window.Object()}}()),n}),define("lodash/internals/setBindData",["./isNative","../utilities/noop"],function(e,t){var n={configurable:!1,enumerable:!1,value:null,writable:!1},r=function(){try{var t={},n=e(n=Object.defineProperty)&&n,r=n(t,t,t)&&n}catch(o){}return r}(),o=r?function(e,t){n.value=t,r(e,"__bindData__",n)}:t;return o}),define("lodash/internals/slice",[],function(){function e(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,o=n-t||0,i=Array(0>o?0:o);++r<o;)i[r]=e[t+r];return i}return e}),define("lodash/internals/baseBind",["./baseCreate","../objects/isObject","./setBindData","./slice"],function(e,t,n,r){function o(o){function i(){if(u){var n=r(u);a.apply(n,arguments)}if(this instanceof i){var o=e(s.prototype),l=s.apply(o,n||arguments);return t(l)?l:o}return s.apply(c,n||arguments)}var s=o[0],u=o[2],c=o[4];return n(i,o),i}var i=[],a=i.push;return o}),define("lodash/internals/baseCreateWrapper",["./baseCreate","../objects/isObject","./setBindData","./slice"],function(e,t,n,r){function o(i){function s(){var n=h?p:this;if(l){var i=r(l);a.apply(i,arguments)}if((f||g)&&(i||(i=r(arguments)),f&&a.apply(i,f),g&&i.length<d))return c|=16,o([u,y?c:-4&c,i,null,p,d]);if(i||(i=arguments),m&&(u=n[v]),this instanceof s){n=e(u.prototype);var b=u.apply(n,i);return t(b)?b:n}return u.apply(n,i)}var u=i[0],c=i[1],l=i[2],f=i[3],p=i[4],d=i[5],h=1&c,m=2&c,g=4&c,y=8&c,v=u;return n(s,i),s}var i=[],a=i.push;return o}),define("lodash/objects/isFunction",[],function(){function e(e){return"function"==typeof e}return e}),define("lodash/internals/createWrapper",["./baseBind","./baseCreateWrapper","../objects/isFunction","./slice"],function(e,t,n,r){function o(i,u,c,l,f,p){var d=1&u,h=2&u,m=4&u,g=16&u,y=32&u;if(!h&&!n(i))throw new TypeError;g&&!c.length&&(u&=-17,g=c=!1),y&&!l.length&&(u&=-33,y=l=!1);var v=i&&i.__bindData__;if(v&&v!==!0)return v=r(v),v[2]&&(v[2]=r(v[2])),v[3]&&(v[3]=r(v[3])),!d||1&v[1]||(v[4]=f),!d&&1&v[1]&&(u|=8),!m||4&v[1]||(v[5]=p),g&&a.apply(v[2]||(v[2]=[]),c),y&&s.apply(v[3]||(v[3]=[]),l),v[1]|=u,o.apply(null,v);var b=1==u||17===u?e:t;return b([i,u,c,l,f,p])}var i=[],a=i.push,s=i.unshift;return o}),define("lodash/functions/bind",["../internals/createWrapper","../internals/slice"],function(e,t){function n(n,r){return arguments.length>2?e(n,17,t(arguments,2),null,r):e(n,1,null,null,r)}return n}),define("lodash/utilities/identity",[],function(){function e(e){return e}return e}),define("lodash/support",["./internals/isNative"],function(e){var t=/\bthis\b/,n={};return n.funcDecomp=!e(window.WinRTError)&&t.test(function(){return this}),n.funcNames="string"==typeof Function.name,n}),define("lodash/internals/baseCreateCallback",["../functions/bind","../utilities/identity","./setBindData","../support"],function(e,t,n,r){function o(o,u,c){if("function"!=typeof o)return t;if("undefined"==typeof u||!("prototype"in o))return o;var l=o.__bindData__;if("undefined"==typeof l&&(r.funcNames&&(l=!o.name),l=l||!r.funcDecomp,!l)){var f=s.call(o);r.funcNames||(l=!i.test(f)),l||(l=a.test(f),n(o,l))}if(l===!1||l!==!0&&1&l[1])return o;switch(c){case 1:return function(e){return o.call(u,e)};case 2:return function(e,t){return o.call(u,e,t)};case 3:return function(e,t,n){return o.call(u,e,t,n)};case 4:return function(e,t,n,r){return o.call(u,e,t,n,r)}}return e(o,u)}var i=/^\s*function[ \n\r\t]+\w/,a=/\bthis\b/,s=Function.prototype.toString;return o}),define("lodash/objects/forIn",["../internals/baseCreateCallback","../internals/objectTypes"],function(e,t){var n=function(n,r,o){var i,a=n,s=a;if(!a)return s;if(!t[typeof a])return s;r=r&&"undefined"==typeof o?r:e(r,o,3);for(i in a)if(r(a[i],i,n)===!1)return s;return s};return n}),define("lodash/internals/arrayPool",[],function(){var e=[];return e}),define("lodash/internals/getArray",["./arrayPool"],function(e){function t(){return e.pop()||[]}return t}),define("lodash/internals/maxPoolSize",[],function(){var e=40;return e}),define("lodash/internals/releaseArray",["./arrayPool","./maxPoolSize"],function(e,t){function n(n){n.length=0,e.length<t&&e.push(n)}return n}),define("lodash/internals/baseIsEqual",["../objects/forIn","./getArray","../objects/isFunction","./objectTypes","./releaseArray"],function(e,t,n,r,o){function i(h,y,v,b,w,x){if(v){var _=v(h,y);if("undefined"!=typeof _)return!!_}if(h===y)return 0!==h||1/h==1/y;var j=typeof h,S=typeof y;if(!(h!==h||h&&r[j]||y&&r[S]))return!1;if(null==h||null==y)return h===y;var k=m.call(h),C=m.call(y);if(k==a&&(k=f),C==a&&(C=f),k!=C)return!1;switch(k){case u:case c:return+h==+y;case l:return h!=+h?y!=+y:0==h?1/h==1/y:h==+y;case p:case d:return h==String(y)}var E=k==s;if(!E){var T=g.call(h,"__wrapped__"),O=g.call(y,"__wrapped__");if(T||O)return i(T?h.__wrapped__:h,O?y.__wrapped__:y,v,b,w,x);if(k!=f)return!1;var A=h.constructor,L=y.constructor;if(A!=L&&!(n(A)&&A instanceof A&&n(L)&&L instanceof L)&&"constructor"in h&&"constructor"in y)return!1}var q=!w;w||(w=t()),x||(x=t());for(var P=w.length;P--;)if(w[P]==h)return x[P]==y;var D=0;if(_=!0,w.push(h),x.push(y),E){if(P=h.length,D=y.length,_=D==P,_||b)for(;D--;){var N=P,R=y[D];if(b)for(;N--&&!(_=i(h[N],R,v,b,w,x)););else if(!(_=i(h[D],R,v,b,w,x)))break}}else e(y,function(e,t,n){return g.call(n,t)?(D++,_=g.call(h,t)&&i(h[t],e,v,b,w,x)):void 0}),_&&!b&&e(h,function(e,t,n){return g.call(n,t)?_=--D>-1:void 0});return w.pop(),x.pop(),q&&(o(w),o(x)),_}var a="[object Arguments]",s="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Number]",f="[object Object]",p="[object RegExp]",d="[object String]",h=Object.prototype,m=h.toString,g=h.hasOwnProperty;return i}),define("lodash/internals/shimKeys",["./objectTypes"],function(e){var t=Object.prototype,n=t.hasOwnProperty,r=function(t){var r,o=t,i=[];if(!o)return i;if(!e[typeof t])return i;for(r in o)n.call(o,r)&&i.push(r);return i};return r}),define("lodash/objects/keys",["../internals/isNative","./isObject","../internals/shimKeys"],function(e,t,n){var r=e(r=Object.keys)&&r,o=r?function(e){return t(e)?r(e):[]}:n;return o}),define("lodash/utilities/property",[],function(){function e(e){return function(t){return t[e]}}return e}),define("lodash/functions/createCallback",["../internals/baseCreateCallback","../internals/baseIsEqual","../objects/isObject","../objects/keys","../utilities/property"],function(e,t,n,r,o){function i(i,a,s){var u=typeof i;if(null==i||"function"==u)return e(i,a,s);if("object"!=u)return o(i);var c=r(i),l=c[0],f=i[l];return 1!=c.length||f!==f||n(f)?function(e){for(var n=c.length,r=!1;n--&&(r=t(e[c[n]],i[c[n]],null,!0)););return r}:function(e){var t=e[l];return f===t&&(0!==f||1/f==1/t)}}return i}),define("lodash/arrays/first",["../functions/createCallback","../internals/slice"],function(e,t){function n(n,a,s){var u=0,c=n?n.length:0;if("number"!=typeof a&&null!=a){var l=-1;for(a=e(a,s,3);++l<c&&a(n[l],l,n);)u++}else if(u=a,null==u||s)return n?n[0]:r;return t(n,0,i(o(0,u),c))}var r,o=Math.max,i=Math.min;return n}),define("lodash/objects/isArguments",[],function(){function e(e){return e&&"object"==typeof e&&"number"==typeof e.length&&r.call(e)==t||!1}var t="[object Arguments]",n=Object.prototype,r=n.toString;return e}),define("lodash/objects/isArray",["../internals/isNative"],function(e){var t="[object Array]",n=Object.prototype,r=n.toString,o=e(o=Array.isArray)&&o,i=o||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&r.call(e)==t||!1};return i}),define("lodash/internals/baseFlatten",["../objects/isArguments","../objects/isArray"],function(e,t){function n(r,o,i,a){for(var s=(a||0)-1,u=r?r.length:0,c=[];++s<u;){var l=r[s];if(l&&"object"==typeof l&&"number"==typeof l.length&&(t(l)||e(l))){o||(l=n(l,o,i));var f=-1,p=l.length,d=c.length;for(c.length+=p;++f<p;)c[d++]=l[f]}else i||c.push(l)}return c}return n}),define("lodash/objects/forOwn",["../internals/baseCreateCallback","./keys","../internals/objectTypes"],function(e,t,n){var r=function(r,o,i){var a,s=r,u=s;if(!s)return u;if(!n[typeof s])return u;o=o&&"undefined"==typeof i?o:e(o,i,3);for(var c=-1,l=n[typeof s]&&t(s),f=l?l.length:0;++c<f;)if(a=l[c],o(s[a],a,r)===!1)return u;return u};return r}),define("lodash/collections/map",["../functions/createCallback","../objects/forOwn"],function(e,t){function n(n,r,o){var i=-1,a=n?n.length:0;if(r=e(r,o,3),"number"==typeof a)for(var s=Array(a);++i<a;)s[i]=r(n[i],i,n);else s=[],t(n,function(e,t,n){s[++i]=r(e,t,n)});return s}return n}),define("lodash/arrays/flatten",["../internals/baseFlatten","../collections/map"],function(e,t){function n(n,r,o,i){return"boolean"!=typeof r&&null!=r&&(i=o,o="function"!=typeof r&&i&&i[r]===n?null:r,r=!1),null!=o&&(n=t(n,o,i)),e(n,r)}return n}),define("lodash/arrays/last",["../functions/createCallback","../internals/slice"],function(e,t){function n(n,i,a){var s=0,u=n?n.length:0;if("number"!=typeof i&&null!=i){var c=u;for(i=e(i,a,3);c--&&i(n[c],c,n);)s++}else if(s=i,null==s||a)return n?n[u-1]:r;return t(n,o(0,u-s))}var r,o=Math.max;return n}),define("lodash/internals/baseIndexOf",[],function(){function e(e,t,n){for(var r=(n||0)-1,o=e?e.length:0;++r<o;)if(e[r]===t)return r;return-1}return e}),define("lodash/internals/keyPrefix",[],function(){var e=+new Date+"";return e}),define("lodash/internals/cacheIndexOf",["./baseIndexOf","./keyPrefix"],function(e,t){function n(n,r){var o=typeof r;if(n=n.cache,"boolean"==o||null==r)return n[r]?0:-1;"number"!=o&&"string"!=o&&(o="object");var i="number"==o?r:t+r;return n=(n=n[o])&&n[i],"object"==o?n&&e(n,r)>-1?0:-1:n?0:-1}return n}),define("lodash/internals/cachePush",["./keyPrefix"],function(e){function t(t){var n=this.cache,r=typeof t;if("boolean"==r||null==t)n[t]=!0;else{"number"!=r&&"string"!=r&&(r="object");var o="number"==r?t:e+t,i=n[r]||(n[r]={});"object"==r?(i[o]||(i[o]=[])).push(t):i[o]=!0}}return t}),define("lodash/internals/objectPool",[],function(){var e=[];return e}),define("lodash/internals/getObject",["./objectPool"],function(e){function t(){return e.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}return t}),define("lodash/internals/releaseObject",["./maxPoolSize","./objectPool"],function(e,t){function n(r){var o=r.cache;o&&n(o),r.array=r.cache=r.criteria=r.object=r.number=r.string=r.value=null,t.length<e&&t.push(r)}return n}),define("lodash/internals/createCache",["./cachePush","./getObject","./releaseObject"],function(e,t){function n(n){var r=-1,o=n.length,i=n[0],a=n[o/2|0],s=n[o-1];if(i&&"object"==typeof i&&a&&"object"==typeof a&&s&&"object"==typeof s)return!1;var u=t();u["false"]=u["null"]=u["true"]=u.undefined=!1;var c=t();for(c.array=n,c.cache=u,c.push=e;++r<o;)c.push(n[r]);return c}return n}),define("lodash/internals/largeArraySize",[],function(){var e=75;return e}),define("lodash/internals/baseUniq",["./baseIndexOf","./cacheIndexOf","./createCache","./getArray","./largeArraySize","./releaseArray","./releaseObject"],function(e,t,n,r,o,i,a){function s(s,u,c){var l=-1,f=e,p=s?s.length:0,d=[],h=!u&&p>=o,m=c||h?r():d;if(h){var g=n(m);f=t,m=g}for(;++l<p;){var y=s[l],v=c?c(y,l,s):y;(u?!l||m[m.length-1]!==v:f(m,v)<0)&&((c||h)&&m.push(v),d.push(y))}return h?(i(m.array),a(m)):c&&i(m),d}return s}),define("lodash/arrays/uniq",["../internals/baseUniq","../functions/createCallback"],function(e,t){function n(n,r,o,i){return"boolean"!=typeof r&&null!=r&&(i=o,o="function"!=typeof r&&i&&i[r]===n?null:r,r=!1),null!=o&&(o=t(o,i,3)),e(n,r,o)}return n}),define("lodash/internals/charAtCallback",[],function(){function e(e){return e.charCodeAt(0)}return e}),define("lodash/collections/forEach",["../internals/baseCreateCallback","../objects/forOwn"],function(e,t){function n(n,r,o){var i=-1,a=n?n.length:0;if(r=r&&"undefined"==typeof o?r:e(r,o,3),"number"==typeof a)for(;++i<a&&r(n[i],i,n)!==!1;);else t(n,r);return n}return n}),define("lodash/objects/isString",[],function(){function e(e){return"string"==typeof e||e&&"object"==typeof e&&r.call(e)==t||!1}var t="[object String]",n=Object.prototype,r=n.toString;return e}),define("lodash/collections/max",["../internals/charAtCallback","../functions/createCallback","./forEach","../objects/forOwn","../objects/isArray","../objects/isString"],function(e,t,n,r,o,i){function a(r,a,s){var u=-1/0,c=u;if("function"!=typeof a&&s&&s[a]===r&&(a=null),null==a&&o(r))for(var l=-1,f=r.length;++l<f;){var p=r[l];p>c&&(c=p)}else a=null==a&&i(r)?e:t(a,s,3),n(r,function(e,t,n){var r=a(e,t,n);r>u&&(u=r,c=e)});return c}return a}),define("lodash/collections/pluck",["./map"],function(e){var t=e;return t}),define("lodash/arrays/zip",["../collections/max","../collections/pluck"],function(e,t){function n(){for(var n=arguments.length>1?arguments:arguments[0],r=-1,o=n?e(t(n,"length")):0,i=Array(0>o?0:o);++r<o;)i[r]=t(n,r);return i}return n}),define("lodash/chaining/wrapperValueOf",["../collections/forEach","../support"],function(){function e(){return this.__wrapped__}return e}),define("lodash/collections/every",["../functions/createCallback","../objects/forOwn"],function(e,t){function n(n,r,o){var i=!0;r=e(r,o,3);var a=-1,s=n?n.length:0;if("number"==typeof s)for(;++a<s&&(i=!!r(n[a],a,n)););else t(n,function(e,t,n){return i=!!r(e,t,n)});return i}return n}),define("lodash/collections/filter",["../functions/createCallback","../objects/forOwn"],function(e,t){function n(n,r,o){var i=[];r=e(r,o,3);var a=-1,s=n?n.length:0;if("number"==typeof s)for(;++a<s;){var u=n[a];r(u,a,n)&&i.push(u)}else t(n,function(e,t,n){r(e,t,n)&&i.push(e)});return i}return n}),define("lodash/internals/compareAscending",[],function(){function e(e,t){for(var n=e.criteria,r=t.criteria,o=-1,i=n.length;++o<i;){var a=n[o],s=r[o];if(a!==s){if(a>s||"undefined"==typeof a)return 1;if(s>a||"undefined"==typeof s)return-1}}return e.index-t.index}return e}),define("lodash/collections/sortBy",["../internals/compareAscending","../functions/createCallback","./forEach","../internals/getArray","../internals/getObject","../objects/isArray","./map","../internals/releaseArray","../internals/releaseObject"],function(e,t,n,r,o,i,a,s,u){function c(c,l,f){var p=-1,d=i(l),h=c?c.length:0,m=Array("number"==typeof h?h:0);for(d||(l=t(l,f,3)),n(c,function(e,t,n){var i=m[++p]=o();d?i.criteria=a(l,function(t){return e[t]}):(i.criteria=r())[0]=l(e,t,n),i.index=p,i.value=e}),h=m.length,m.sort(e);h--;){var g=m[h];m[h]=g.value,d||s(g.criteria),u(g)}return m}return c}),define("lodash/objects/assign",["../internals/baseCreateCallback","./keys","../internals/objectTypes"],function(e,t,n){var r=function(r,o,i){var a,s=r,u=s;if(!s)return u;var c=arguments,l=0,f="number"==typeof i?2:c.length;if(f>3&&"function"==typeof c[f-2])var p=e(c[--f-1],c[f--],2);else f>2&&"function"==typeof c[f-1]&&(p=c[--f]);for(;++l<f;)if(s=c[l],s&&n[typeof s])for(var d=-1,h=n[typeof s]&&t(s),m=h?h.length:0;++d<m;)a=h[d],u[a]=p?p(u[a],s[a]):s[a];return u};return r}),define("lodash/internals/baseClone",["../objects/assign","../collections/forEach","../objects/forOwn","./getArray","../objects/isArray","../objects/isObject","./releaseArray","./slice"],function(e,t,n,r,o,i,a,s){function u(l,f,h,g,w){if(h){var S=h(l);if("undefined"!=typeof S)return S}var k=i(l);if(!k)return l;var C=x.call(l);if(!b[C])return l;var E=j[C];switch(C){case p:case d:return new E(+l);case m:case v:return new E(l);case y:return S=E(l.source,c.exec(l)),S.lastIndex=l.lastIndex,S}var T=o(l);if(f){var O=!g;g||(g=r()),w||(w=r());for(var A=g.length;A--;)if(g[A]==l)return w[A];S=T?E(l.length):{}}else S=T?s(l):e({},l);return T&&(_.call(l,"index")&&(S.index=l.index),_.call(l,"input")&&(S.input=l.input)),f?(g.push(l),w.push(S),(T?t:n)(l,function(e,t){S[t]=u(e,f,h,g,w)}),O&&(a(g),a(w)),S):S}var c=/\w*$/,l="[object Arguments]",f="[object Array]",p="[object Boolean]",d="[object Date]",h="[object Function]",m="[object Number]",g="[object Object]",y="[object RegExp]",v="[object String]",b={};b[h]=!1,b[l]=b[f]=b[p]=b[d]=b[m]=b[g]=b[y]=b[v]=!0;var w=Object.prototype,x=w.toString,_=w.hasOwnProperty,j={};return j[f]=Array,j[p]=Boolean,j[d]=Date,j[h]=Function,j[g]=Object,j[m]=Number,j[y]=RegExp,j[v]=String,u}),define("lodash/objects/clone",["../internals/baseClone","../internals/baseCreateCallback"],function(e,t){function n(n,r,o,i){return"boolean"!=typeof r&&null!=r&&(i=o,o=r,r=!1),e(n,r,"function"==typeof o&&t(o,i,1))}return n}),define("lodash/objects/functions",["./forIn","./isFunction"],function(e,t){function n(n){var r=[];return e(n,function(e,n){t(e)&&r.push(n)}),r.sort()}return n}),define("lodash/objects/mapValues",["../functions/createCallback","./forOwn"],function(e,t){function n(n,r,o){var i={};return r=e(r,o,3),t(n,function(e,t,n){i[t]=r(e,t,n)}),i}return n}),define("lodash/objects/values",["./keys"],function(e){function t(t){for(var n=-1,r=e(t),o=r.length,i=Array(o);++n<o;)i[n]=t[r[n]];return i}return t}),define("lodash/utilities/mixin",["../collections/forEach","../objects/functions","../objects/isFunction","../objects/isObject"],function(e,t,n,r){function o(o,i,s){var u=!0,c=i&&t(i);s===!1?u=!1:r(s)&&"chain"in s&&(u=s.chain);var l=o,f=n(l);e(c,function(e){var t=o[e]=i[e];f&&(l.prototype[e]=function(){var e=this.__chain__,n=this.__wrapped__,i=[n];a.apply(i,arguments);var s=t.apply(o,i);if(u||e){if(n===s&&r(s))return this;s=new l(s),s.__chain__=e}return s})})}var i=[],a=i.push;return o}),define("lodash/objects/pairs",["./keys"],function(e){function t(t){for(var n=-1,r=e(t),o=r.length,i=Array(o);++n<o;){var a=r[n];i[n]=[a,t[a]]}return i}return t}),define("lodash/internals/lodashWrapper",[],function(){function e(e,t){this.__chain__=!!t,this.__wrapped__=e}return e}),define("lodash/collections/find",["../functions/createCallback","../objects/forOwn"],function(e,t){function n(n,r,o){r=e(r,o,3);var i=-1,a=n?n.length:0;if("number"!=typeof a){var s;return t(n,function(e,t,n){return r(e,t,n)?(s=e,!1):void 0}),s}for(;++i<a;){var u=n[i];if(r(u,i,n))return u}}return n}),define("common/utils/_",["lodash/arrays/compact","lodash/arrays/flatten","lodash/arrays/zip","lodash/chaining/wrapperValueOf","lodash/collections/forEach","lodash/collections/map","lodash/collections/pluck","lodash/collections/sortBy","lodash/objects/mapValues","lodash/collections/max","lodash/objects/pairs","lodash/objects/values","lodash/objects/forOwn","lodash/objects/isArray","lodash/utilities/mixin","lodash/internals/lodashWrapper","lodash/objects/functions","lodash/collections/filter","lodash/arrays/first","lodash/arrays/last","lodash/collections/find","lodash/collections/every"],function(e,t,n,r,o,i,a,s,u,c,l,f,p,d,h,m,g,y,v,b,w,x){function _(e){return e&&"object"==typeof e&&!d(e)&&k.call(e,"__wrapped__")?e:new m(e)
}var j=[],S=Object.prototype,k=S.hasOwnProperty;return m.prototype=_.prototype,h=function(e){var t=t;return function(n,r,o){return r&&(o||t(r).length)||(null===o&&(o=r),r=n,n=_),e(n,r,o)}}(h),_.compact=e,_.flatten=t,_.forEach=o,_.filter=y,_.map=i,_.mapValues=u,_.max=c,_.pairs=l,_.pluck=a,_.sortBy=s,_.values=f,_.zip=n,_.last=b,_.find=w,_.first=v,_.take=v,_.forOwn=p,_.every=x,h(_),_.mixin=h,h(function(){var e={};return p(_,function(t,n){_.prototype[n]||(e[n]=t)}),e}(),!1),p(_,function(e,t){var n="sample"!==t;_.prototype[t]||(_.prototype[t]=function(t,r){var o=this.__chain__,i=e(this.__wrapped__,t,r);return o||null!==t&&(!r||n&&"function"==typeof t)?new m(i,o):i})}),_.VERSION="2.4.1",_.prototype.valueOf=r,o(["join","pop","shift"],function(e){var t=j[e];_.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);return e?new m(n,e):n}}),o(["push","reverse","sort","unshift"],function(e){var t=j[e];_.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),o(["concat","slice","splice"],function(e){var t=j[e];_.prototype[e]=function(){return new m(t.apply(this.__wrapped__,arguments),this.__chain__)}}),_}),function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("bonzo",n):t[e]=n()}("bonzo",this,function(){function e(e,t){var n=null,r=E.defaultView.getComputedStyle(e,"");return r&&(n=r[t]),e.style[t]||n}function t(e){return e&&e.nodeName&&(1==e.nodeType||11==e.nodeType)}function n(e,n,r){var o,i,a;if("string"==typeof e)return _.create(e);if(t(e)&&(e=[e]),r){for(a=[],o=0,i=e.length;i>o;o++)a[o]=v(n,e[o]);return a}return e}function r(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function o(e,t,n,r){for(var o,i=0,a=e.length;a>i;i++)o=r?e.length-i-1:i,t.call(n||e[o],e[o],o,e);return e}function i(e,n,r){for(var o=0,a=e.length;a>o;o++)t(e[o])&&(i(e[o].childNodes,n,r),n.call(r||e[o],e[o],o,e));return e}function a(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function s(e){return e?e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():e}function u(e){e[B]("data-node-uid")||e[W]("data-node-uid",++$);var t=e[B]("data-node-uid");return I[t]||(I[t]={})}function c(e){var t=e[B]("data-node-uid");t&&delete I[t]}function l(e){var t;try{return null===e||void 0===e?void 0:"true"===e?!0:"false"===e?!1:"null"===e?null:(t=parseFloat(e))==e?t:e}catch(n){}return void 0}function f(e,t,n){for(var r=0,o=e.length;o>r;++r)if(t.call(n||null,e[r],r,e))return!0;return!1}function p(e){return"transform"==e&&(e=V.transform)||/^transform-?[Oo]rigin$/.test(e)&&(e=V.transform+"Origin"),e?a(e):null}function d(e,t,r,i){var a=0,s=t||this,u=[],c=J&&"string"==typeof e&&"<"!=e.charAt(0)?J(e):e;return o(n(c),function(e,t){o(s,function(n){r(e,u[a++]=t>0?v(s,n):n)},null,i)},this,i),s.length=a,o(u,function(e){s[--a]=e},null,!i),s}function h(e,t,n){var r=_(e),o=r.css("position"),i=r.offset(),a="relative",s=o==a,u=[parseInt(r.css("left"),10),parseInt(r.css("top"),10)];"static"==o&&(r.css("position",a),o=a),isNaN(u[0])&&(u[0]=s?0:e.offsetLeft),isNaN(u[1])&&(u[1]=s?0:e.offsetTop),null!=t&&(e.style.left=t-i.left+u[0]+z),null!=n&&(e.style.top=n-i.top+u[1]+z)}function m(e,t){return"function"==typeof t?t.call(e,e):t}function g(e,t,n){var r=this[0];return r?null==e&&null==t?(b(r)?w():{x:r.scrollLeft,y:r.scrollTop})[n]:(b(r)?C.scrollTo(e,t):(null!=e&&(r.scrollLeft=e),null!=t&&(r.scrollTop=t)),this):this}function y(e){if(this.length=0,e){e="string"==typeof e||e.nodeType||"undefined"==typeof e.length?[e]:e,this.length=e.length;for(var t=0;t<e.length;t++)this[t]=e[t]}}function v(e,t){var n,r,o,i=t.cloneNode(!0);if(e.$&&"function"==typeof e.cloneEvents)for(e.$(i).cloneEvents(t),n=e.$(i).find("*"),r=e.$(t).find("*"),o=0;o<r.length;o++)e.$(n[o]).cloneEvents(r[o]);return i}function b(e){return e===C||/^(?:body|html)$/i.test(e.tagName)}function w(){return{x:C.pageXOffset||T.scrollLeft,y:C.pageYOffset||T.scrollTop}}function x(e){var t=document.createElement("script"),n=e.match(q);return t.src=n[1],t}function _(e){return new y(e)}var j,S,k,C=window,E=C.document,T=E.documentElement,O="parentNode",A=/^(checked|value|selected|disabled)$/i,L=/^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i,q=/\s*<script +src=['"]([^'"]+)['"]>/,P=["<table>","</table>",1],D=["<table><tbody><tr>","</tr></tbody></table>",3],N=["<select>","</select>",1],R=["_","",0,1],M={thead:P,tbody:P,tfoot:P,colgroup:P,caption:P,tr:["<table><tbody>","</tbody></table>",2],th:D,td:D,col:["<table><colgroup>","</colgroup></table>",2],fieldset:["<form>","</form>",1],legend:["<form><fieldset>","</fieldset></form>",2],option:N,optgroup:N,script:R,style:R,link:R,param:R,base:R},H=/^(checked|selected|disabled)$/,I={},$=0,F=/^-?[\d\.]+$/,U=/^data-(.+)$/,z="px",W="setAttribute",B="getAttribute",V=function(){var e=E.createElement("p");return{transform:function(){var t,n=["transform","webkitTransform","MozTransform","OTransform","msTransform"];for(t=0;t<n.length;t++)if(n[t]in e.style)return n[t]}(),classList:"classList"in e}}(),X=/\s+/,Q=String.prototype.toString,K={lineHeight:1,zoom:1,zIndex:1,opacity:1,boxFlex:1,WebkitBoxFlex:1,MozBoxFlex:1},J=E.querySelectorAll&&function(e){return E.querySelectorAll(e)};return V.classList?(j=function(e,t){return e.classList.contains(t)},S=function(e,t){e.classList.add(t)},k=function(e,t){e.classList.remove(t)}):(j=function(e,t){return r(t).test(e.className)},S=function(e,t){e.className=(e.className+" "+t).trim()},k=function(e,t){e.className=e.className.replace(r(t)," ").trim()}),y.prototype={get:function(e){return this[e]||null},each:function(e,t){return o(this,e,t)},deepEach:function(e,t){return i(this,e,t)},map:function(e,t){var n,r,o=[];for(r=0;r<this.length;r++)n=e.call(this,this[r],r),t?t(n)&&o.push(n):o.push(n);return o},html:function(e,t){var r=t?"textContent":"innerHTML",i=this,a=function(t,r){o(n(e,i,r),function(e){t.appendChild(e)})},s=function(n,o){try{if(t||"string"==typeof e&&!L.test(n.tagName))return n[r]=e}catch(i){}a(n,o)};return"undefined"!=typeof e?this.empty().each(s):this[0]?this[0][r]:""},text:function(e){return this.html(e,!0)},append:function(e){var t=this;return this.each(function(r,i){o(n(e,t,i),function(e){r.appendChild(e)})})},prepend:function(e){var t=this;return this.each(function(r,i){var a=r.firstChild;o(n(e,t,i),function(e){r.insertBefore(e,a)})})},appendTo:function(e,t){return d.call(this,e,t,function(e,t){e.appendChild(t)})},prependTo:function(e,t){return d.call(this,e,t,function(e,t){e.insertBefore(t,e.firstChild)},1)},before:function(e){var t=this;return this.each(function(r,i){o(n(e,t,i),function(e){r[O].insertBefore(e,r)})})},after:function(e){var t=this;return this.each(function(r,i){o(n(e,t,i),function(e){r[O].insertBefore(e,r.nextSibling)},null,1)})},insertBefore:function(e,t){return d.call(this,e,t,function(e,t){e[O].insertBefore(t,e)})},insertAfter:function(e,t){return d.call(this,e,t,function(e,t){var n=e.nextSibling;n?e[O].insertBefore(t,n):e[O].appendChild(t)},1)},replaceWith:function(e){var t=this;return this.each(function(r,i){o(n(e,t,i),function(e){r[O]&&r[O].replaceChild(e,r)})})},clone:function(e){var t,n,r=[];for(n=0,t=this.length;t>n;n++)r[n]=v(e||this,this[n]);return _(r)},addClass:function(e){return e=Q.call(e).split(X),this.each(function(t){o(e,function(e){e&&!j(t,m(t,e))&&S(t,m(t,e))})})},removeClass:function(e){return e=Q.call(e).split(X),this.each(function(t){o(e,function(e){e&&j(t,m(t,e))&&k(t,m(t,e))})})},hasClass:function(e){return e=Q.call(e).split(X),f(this,function(t){return f(e,function(e){return e&&j(t,e)})})},toggleClass:function(e,t){return e=Q.call(e).split(X),this.each(function(n){o(e,function(e){e&&("undefined"!=typeof t?t?!j(n,e)&&S(n,e):k(n,e):j(n,e)?k(n,e):S(n,e))})})},show:function(e){return e="string"==typeof e?e:"",this.each(function(t){t.style.display=e})},hide:function(){return this.each(function(e){e.style.display="none"})},toggle:function(e,t){return t="string"==typeof t?t:"","function"!=typeof e&&(e=null),this.each(function(n){n.style.display=n.offsetWidth||n.offsetHeight?"none":t,e&&e.call(n)})},first:function(){return _(this.length?this[0]:[])},last:function(){return _(this.length?this[this.length-1]:[])},next:function(){return this.related("nextSibling")},previous:function(){return this.related("previousSibling")},parent:function(){return this.related(O)},related:function(e){return _(this.map(function(t){for(t=t[e];t&&1!==t.nodeType;)t=t[e];return t||0},function(e){return e}))},focus:function(){return this.length&&this[0].focus(),this},blur:function(){return this.length&&this[0].blur(),this},css:function(t,n){function r(e,t,n){for(var r in i)if(i.hasOwnProperty(r)){n=i[r],(t=p(r))&&F.test(n)&&!(t in K)&&(n+=z);try{e.style[t]=m(e,n)}catch(o){}}}var o,i=t;return void 0===n&&"string"==typeof t?(n=this[0],n?n===E||n===C?(o=n===E?_.doc():_.viewport(),"width"==t?o.width:"height"==t?o.height:""):(t=p(t))?e(n,t):null:null):("string"==typeof t&&(i={},i[t]=n),this.each(r))},offset:function(e,t){if(e&&"object"==typeof e&&("number"==typeof e.top||"number"==typeof e.left))return this.each(function(t){h(t,e.left,e.top)});if("number"==typeof e||"number"==typeof t)return this.each(function(n){h(n,e,t)});if(!this[0])return{top:0,left:0,height:0,width:0};var n=this[0],r=n.ownerDocument.documentElement,o=n.getBoundingClientRect(),i=w(),a=n.offsetWidth,s=n.offsetHeight,u=o.top+i.y-Math.max(0,r&&r.clientTop,E.body.clientTop),c=o.left+i.x-Math.max(0,r&&r.clientLeft,E.body.clientLeft);return{top:u,left:c,height:s,width:a}},dim:function(){if(!this.length)return{height:0,width:0};var e=this[0],t=9==e.nodeType&&e.documentElement,n=t||!e.style||e.offsetWidth||e.offsetHeight?null:function(t){var n={position:e.style.position||"",visibility:e.style.visibility||"",display:e.style.display||""};return t.first().css({position:"absolute",visibility:"hidden",display:"block"}),n}(this),r=t?Math.max(e.body.scrollWidth,e.body.offsetWidth,t.scrollWidth,t.offsetWidth,t.clientWidth):e.offsetWidth,o=t?Math.max(e.body.scrollHeight,e.body.offsetHeight,t.scrollHeight,t.offsetHeight,t.clientHeight):e.offsetHeight;return n&&this.first().css(n),{height:o,width:r}},attr:function(e,t){var n,r=this[0];if("string"!=typeof e&&!(e instanceof String)){for(n in e)e.hasOwnProperty(n)&&this.attr(n,e[n]);return this}return"undefined"==typeof t?r?A.test(e)?H.test(e)&&"string"==typeof r[e]?!0:r[e]:r[B](e):null:this.each(function(n){A.test(e)?n[e]=m(n,t):n[W](e,m(n,t))})},removeAttr:function(e){return this.each(function(t){H.test(e)?t[e]=!1:t.removeAttribute(e)})},val:function(e){return"string"==typeof e||"number"==typeof e?this.attr("value",e):this.length?this[0].value:null},data:function(e,t){var n,r,i=this[0];return"undefined"==typeof t?i?(n=u(i),"undefined"==typeof e?(o(i.attributes,function(e){(r=(""+e.name).match(U))&&(n[a(r[1])]=l(e.value))}),n):("undefined"==typeof n[e]&&(n[e]=l(this.attr("data-"+s(e)))),n[e])):null:this.each(function(n){u(n)[e]=t})},remove:function(){return this.deepEach(c),this.detach()},empty:function(){return this.each(function(e){for(i(e.childNodes,c);e.firstChild;)e.removeChild(e.firstChild)})},detach:function(){return this.each(function(e){e[O]&&e[O].removeChild(e)})},scrollTop:function(e){return g.call(this,null,e,"y")},scrollLeft:function(e){return g.call(this,e,null,"x")}},_.setQueryEngine=function(e){J=e,delete _.setQueryEngine},_.aug=function(e,t){for(var n in e)e.hasOwnProperty(n)&&((t||y.prototype)[n]=e[n])},_.create=function(e){return"string"==typeof e&&""!==e?function(){if(q.test(e))return[x(e)];var t=e.match(/^\s*<([^\s>]+)/),n=E.createElement("div"),r=[],i=t?M[t[1].toLowerCase()]:null,a=i?i[2]+1:1,s=i&&i[3],u=O;for(n.innerHTML=i?i[0]+e+i[1]:e;a--;)n=n.firstChild;s&&n&&1!==n.nodeType&&(n=n.nextSibling);do t&&1!=n.nodeType||r.push(n);while(n=n.nextSibling);return o(r,function(e){e[u]&&e[u].removeChild(e)}),r}():t(e)?[e.cloneNode(!0)]:[]},_.doc=function(){var e=_.viewport();return{width:Math.max(E.body.scrollWidth,T.scrollWidth,e.width),height:Math.max(E.body.scrollHeight,T.scrollHeight,e.height)}},_.firstChild=function(e){for(var t,n=e.childNodes,r=0,o=n&&n.length||0;o>r;r++)1===n[r].nodeType&&(t=n[o=r]);return t},_.viewport=function(){return{width:C.innerWidth,height:C.innerHeight}},_.isAncestor="compareDocumentPosition"in T?function(e,t){return 16==(16&e.compareDocumentPosition(t))}:function(e,t){return e!==t&&e.contains(t)},_}),function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("qwery",n):t[e]=n()}("qwery",this,function(){function e(e){return[].slice.call(e,0)}function t(e){var t;return e&&"object"==typeof e&&(t=e.nodeType)&&(1==t||9==t)}function n(e){var t,n,r=[];e:for(t=0;t<e.length;t++){for(n=0;n<r.length;n++)if(r[n]==e[t])continue e;r[r.length]=e[t]}return r}function r(n,a){var u,c="string"==typeof a?r(a)[0]:a||i;return c=isFinite(c.length)&&c[0]&&!c.nodeName?c[0]:c,c&&n?i.getElementsByClassName&&"string"==n&&(u=n.match(o))?e(c.getElementsByClassName(u[1])):n&&(n.document||n.nodeType&&9==n.nodeType)?a?[]:[n]:t(n)?!a||s(n,c)?[n]:[]:e(c.querySelectorAll(n)):[]}var o=/^\.([\w\-]+)$/,i=document,a=i.documentElement,s="compareDocumentPosition"in a?function(e,t){return 16==(16&t.compareDocumentPosition(e))}:function(e,t){return t=t==i||t==window?a:t,t!==e&&t.contains(e)};return r.uniq=n,r},this),define("common/utils/$",["bonzo","qwery"],function(e,t){function n(n,r){return e(t(n,r))}return n.create=function(t){return e(e.create(t))},n}),!function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("reqwest",n):t[e]=n()}("reqwest",this,function(){function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,twoHundo.test(e.request.status)?t(e.request):n(e.request)))}}function setHeaders(e,t){var n,r=t.headers||{};r.Accept=r.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var o="function"==typeof FormData&&t.data instanceof FormData;t.crossOrigin||r[requestedWith]||(r[requestedWith]=defaultHeaders.requestedWith),r[contentType]||o||(r[contentType]=t.contentType||defaultHeaders.contentType);for(n in r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}function setCredentials(e,t){"undefined"!=typeof t.withCredentials&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,r){var o=uniqid++,i=e.jsonpCallback||"callback",a=e.jsonpCallbackName||reqwest.getcallbackPrefix(o),s=new RegExp("((^|\\?|&)"+i+")=([^&]+)"),u=r.match(s),c=doc.createElement("script"),l=0,f=-1!==navigator.userAgent.indexOf("MSIE 10.0");return u?"?"===u[3]?r=r.replace(s,"$1="+a):a=u[3]:r=urlappend(r,i+"="+a),win[a]=generalCallback,c.type="text/javascript",c.src=r,c.async=!0,"undefined"==typeof c.onreadystatechange||f||(c.htmlFor=c.id="_reqwest_"+o),c.onload=c.onreadystatechange=function(){return c[readyState]&&"complete"!==c[readyState]&&"loaded"!==c[readyState]||l?!1:(c.onload=c.onreadystatechange=null,c.onclick&&c.onclick(),t(lastValue),lastValue=void 0,head.removeChild(c),void(l=1))},head.appendChild(c),{abort:function(){c.onload=c.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(c),l=1}}}function getRequest(e,t){var n,r=this.o,o=(r.method||"GET").toUpperCase(),i="string"==typeof r?r:r.url,a=r.processData!==!1&&r.data&&"string"!=typeof r.data?reqwest.toQueryString(r.data):r.data||null,s=!1;return"jsonp"!=r.type&&"GET"!=o||!a||(i=urlappend(i,a),a=null),"jsonp"==r.type?handleJsonp(r,e,t,i):(n=r.xhr&&r.xhr(r)||xhr(r),n.open(o,i,r.async===!1?!1:!0),setHeaders(n,r),setCredentials(n,r),win[xDomainRequest]&&n instanceof win[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},s=!0):n.onreadystatechange=handleReadyState(this,e,t),r.before&&r.before(n),s?setTimeout(function(){n.send(a)},200):n.send(a),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=win.JSON?win.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,n);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){self.abort()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,r,o,i,a=e.name,s=e.tagName.toLowerCase(),u=function(e){e&&!e.disabled&&t(a,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&a)switch(s){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),r=/radio/i.test(e.type),o=e.value,(!(n||r)||e.checked)&&t(a,normalize(n&&""===o?"on":o)));break;case"textarea":t(a,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())u(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(i=0;e.length&&i<e.length;i++)e.options[i].selected&&u(e.options[i])}}function eachFormElement(){var e,t,n=this,r=function(e,t){var r,o,i;for(r=0;r<t.length;r++)for(i=e[byTag](t[r]),o=0;o<i.length;o++)serial(i[o],n)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,n),r(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n},arguments),e}function buildParams(e,t,n,r){var o,i,a,s=/\[\]$/;if(isArray(t))for(i=0;t&&i<t.length;i++)a=t[i],n||s.test(e)?r(e,a):buildParams(e+"["+("object"==typeof a?i:"")+"]",a,n,r);else if(t&&"[object Object]"===t.toString())for(o in t)buildParams(e+"["+o+"]",t[o],n,r);else r(e,t)}var win=window,doc=document,twoHundo=/^(20\d|1223)$/,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",head=doc[byTag]("head")[0],uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e.crossOrigin===!0){var t=win[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(win[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return win[xmlHttpRequest]?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},"catch":function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,n){e.push({name:t,value:n})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,n=Array.prototype.slice.call(arguments,0);return e=n.pop(),e&&e.nodeType&&n.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,n)},reqwest.toQueryString=function(e,t){var n,r,o=t||!1,i=[],a=encodeURIComponent,s=function(e,t){t="function"==typeof t?t():null==t?"":t,i[i.length]=a(e)+"="+a(t)};if(isArray(e))for(r=0;e&&r<e.length;r++)s(e[r].name,e[r].value);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],o,s);return i.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest}),define("common/utils/ajax",["reqwest"],function(e){function t(e){return e.url.match("^https?://")||(e.url=n(e.url),e.crossOrigin=!0),t.reqwest(e)}var n=function(){throw new Error("AJAX has not been initialised yet")};return t.reqwest=e,t.init=function(e){n=function(t){return e.page.ajaxUrl+t}},t}),define("common/utils/atob",[],function(){return window.atob?function(e){return window.atob(e)}:function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t=function(){try{document.createElement("$")}catch(e){return e}}();return function(n){if(n=n.replace(/[=]+$/,""),n.length%4===1)throw t;for(var r,o,i=0,a=0,s="";o=n.charAt(a++);~o&&(r=i%4?64*r+o:o,i++%4)?s+=String.fromCharCode(255&r>>(-2*i&6)):0)o=e.indexOf(o);return s}}()}),function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("bean",n):t[e]=n()}("bean",this,function(e,t){e=e||"bean",t=t||this;var n,r=window,o=t[e],i=/[^\.]*(?=\..*)\.|.*/,a=/\..*/,s="addEventListener",u="removeEventListener",c=document||{},l=c.documentElement||{},f=l[s],p=f?s:"attachEvent",d={},h=Array.prototype.slice,m=function(e,t){return e.split(t||" ")},g=function(e){return"string"==typeof e},y=function(e){return"function"==typeof e},v="click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll ",b="show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinput readystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ",w=function(e,t,n){for(n=0;n<t.length;n++)t[n]&&(e[t[n]]=1);return e}({},m(v+(f?b:""))),x=function(){var e="compareDocumentPosition"in l?function(e,t){return t.compareDocumentPosition&&16===(16&t.compareDocumentPosition(e))}:"contains"in l?function(e,t){return t=9===t.nodeType||t===window?l:t,t!==e&&t.contains(e)}:function(e,t){for(;e=e.parentNode;)if(e===t)return 1;return 0},t=function(t){var n=t.relatedTarget;return n?n!==this&&"xul"!==n.prefix&&!/document/.test(this.toString())&&!e(n,this):null==n};return{mouseenter:{base:"mouseover",condition:t},mouseleave:{base:"mouseout",condition:t},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),_=function(){var e=m("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),t=e.concat(m("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),n=t.concat(m("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),o=e.concat(m("char charCode key keyCode keyIdentifier keyLocation location")),i=e.concat(m("data")),a=e.concat(m("touches targetTouches changedTouches scale rotation")),s=e.concat(m("data origin source")),u=e.concat(m("state")),f=/over|out/,p=[{reg:/key/i,fix:function(e,t){return t.keyCode=e.keyCode||e.which,o}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(e,n,r){return n.rightClick=3===e.which||2===e.button,n.pos={x:0,y:0},e.pageX||e.pageY?(n.clientX=e.pageX,n.clientY=e.pageY):(e.clientX||e.clientY)&&(n.clientX=e.clientX+c.body.scrollLeft+l.scrollLeft,n.clientY=e.clientY+c.body.scrollTop+l.scrollTop),f.test(r)&&(n.relatedTarget=e.relatedTarget||e[("mouseover"==r?"from":"to")+"Element"]),t}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return n}},{reg:/^text/i,fix:function(){return i}},{reg:/^touch|^gesture/i,fix:function(){return a}},{reg:/^message$/i,fix:function(){return s}},{reg:/^popstate$/i,fix:function(){return u}},{reg:/.*/,fix:function(){return e}}],d={},h=function(e,t,n){if(arguments.length&&(e=e||((t.ownerDocument||t.document||t).parentWindow||r).event,this.originalEvent=e,this.isNative=n,this.isBean=!0,e)){var o,i,a,s,u,c=e.type,l=e.target||e.srcElement;if(this.target=l&&3===l.nodeType?l.parentNode:l,n){if(u=d[c],!u)for(o=0,i=p.length;i>o;o++)if(p[o].reg.test(c)){d[c]=u=p[o].fix;break}for(s=u(e,this,c),o=s.length;o--;)!((a=s[o])in this)&&a in e&&(this[a]=e[a])}}};return h.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1},h.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0},h.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0},h.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0}},h.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()},h.prototype.clone=function(e){var t=new h(this,this.element,this.isNative);return t.currentTarget=e,t},h}(),j=function(e,t){return f||t||e!==c&&e!==r?e:l},S=function(){var e=function(e,t,n,r){var o=function(n,o){return t.apply(e,r?h.call(o,n?0:1).concat(r):o)},i=function(n,r){return t.__beanDel?t.__beanDel.ft(n.target,e):r},a=n?function(e){var t=i(e,this);return n.apply(t,arguments)?(e&&(e.currentTarget=t),o(e,arguments)):void 0}:function(e){return t.__beanDel&&(e=e.clone(i(e))),o(e,arguments)};return a.__beanDel=t.__beanDel,a},t=function(t,n,r,o,i,a,s){var u,c=x[n];"unload"==n&&(r=O(A,t,n,r,o)),c&&(c.condition&&(r=e(t,r,c.condition,a)),n=c.base||n),this.isNative=u=w[n]&&!!t[p],this.customType=!f&&!u&&n,this.element=t,this.type=n,this.original=o,this.namespaces=i,this.eventType=f||u?n:"propertychange",this.target=j(t,u),this[p]=!!this.target[p],this.root=s,this.handler=e(t,r,null,a)};return t.prototype.inNamespaces=function(e){var t,n,r=0;if(!e)return!0;if(!this.namespaces)return!1;for(t=e.length;t--;)for(n=this.namespaces.length;n--;)e[t]==this.namespaces[n]&&r++;return e.length===r},t.prototype.matches=function(e,t,n){return!(this.element!==e||t&&this.original!==t||n&&this.handler!==n)},t}(),k=function(){var e={},t=function(n,r,o,i,a,s){var u=a?"r":"$";if(r&&"*"!=r){var c,l=0,f=e[u+r],p="*"==n;if(!f)return;for(c=f.length;c>l;l++)if((p||f[l].matches(n,o,i))&&!s(f[l],f,l,r))return}else for(var d in e)d.charAt(0)==u&&t(n,d.substr(1),o,i,a,s)},n=function(t,n,r,o){var i,a=e[(o?"r":"$")+n];if(a)for(i=a.length;i--;)if(!a[i].root&&a[i].matches(t,r,null))return!0;return!1},r=function(e,n,r,o){var i=[];return t(e,n,r,null,o,function(e){return i.push(e)}),i},o=function(t){var n=!t.root&&!this.has(t.element,t.type,null,!1),r=(t.root?"r":"$")+t.type;return(e[r]||(e[r]=[])).push(t),n},i=function(n){t(n.element,n.type,null,n.handler,n.root,function(t,n,r){return n.splice(r,1),t.removed=!0,0===n.length&&delete e[(t.root?"r":"$")+t.type],!1})},a=function(){var t,n=[];for(t in e)"$"==t.charAt(0)&&(n=n.concat(e[t]));return n};return{has:n,get:r,put:o,del:i,entries:a}}(),C=function(e){n=arguments.length?e:c.querySelectorAll?function(e,t){return t.querySelectorAll(e)}:function(){throw new Error("Bean: No selector engine installed")}},E=function(e,t){if(f||!t||!e||e.propertyName=="_on"+t){var n=k.get(this,t||e.type,null,!1),r=n.length,o=0;for(e=new _(e,this,!0),t&&(e.type=t);r>o&&!e.isImmediatePropagationStopped();o++)n[o].removed||n[o].handler.call(this,e)}},T=f?function(e,t,n){e[n?s:u](t,E,!1)}:function(e,t,n,r){var o;n?(k.put(o=new S(e,r||t,function(t){E.call(e,t,r)},E,null,null,!0)),r&&null==e["_on"+r]&&(e["_on"+r]=0),o.target.attachEvent("on"+o.eventType,o.handler)):(o=k.get(e,r||t,E,!0)[0],o&&(o.target.detachEvent("on"+o.eventType,o.handler),k.del(o)))},O=function(e,t,n,r,o){return function(){r.apply(this,arguments),e(t,n,o)}},A=function(e,t,n,r){var o,i,s=t&&t.replace(a,""),u=k.get(e,s,null,!1),c={};for(o=0,i=u.length;i>o;o++)n&&u[o].original!==n||!u[o].inNamespaces(r)||(k.del(u[o]),!c[u[o].eventType]&&u[o][p]&&(c[u[o].eventType]={t:u[o].eventType,c:u[o].type}));for(o in c)k.has(e,c[o].t,null,!1)||T(e,c[o].t,!1,c[o].c)},L=function(e,t){var r=function(t,r){for(var o,i=g(e)?n(e,r):e;t&&t!==r;t=t.parentNode)for(o=i.length;o--;)if(i[o]===t)return t},o=function(e){var n=r(e.target,this);n&&t.apply(n,arguments)};return o.__beanDel={ft:r,selector:e},o},q=f?function(e,t,n){var o=c.createEvent(e?"HTMLEvents":"UIEvents");o[e?"initEvent":"initUIEvent"](t,!0,!0,r,1),n.dispatchEvent(o)}:function(e,t,n){n=j(n,e),e?n.fireEvent("on"+t,c.createEventObject()):n["_on"+t]++},P=function(e,t,n){var r,o,s,u,c=g(t);if(c&&t.indexOf(" ")>0){for(t=m(t),u=t.length;u--;)P(e,t[u],n);return e}if(o=c&&t.replace(a,""),o&&x[o]&&(o=x[o].base),!t||c)(s=c&&t.replace(i,""))&&(s=m(s,".")),A(e,o,n,s);else if(y(t))A(e,null,t);else for(r in t)t.hasOwnProperty(r)&&P(e,r,t[r]);return e},D=function(e,t,r,o){var s,u,c,l,f,g,v;{if(void 0!==r||"object"!=typeof t){for(y(r)?(f=h.call(arguments,3),o=s=r):(s=o,f=h.call(arguments,4),o=L(r,s,n)),c=m(t),this===d&&(o=O(P,e,t,o,s)),l=c.length;l--;)v=k.put(g=new S(e,c[l].replace(a,""),o,s,m(c[l].replace(i,""),"."),f,!1)),g[p]&&v&&T(e,g.eventType,!0,g.customType);
return e}for(u in t)t.hasOwnProperty(u)&&D.call(this,e,u,t[u])}},N=function(e,t,n,r){return D.apply(null,g(n)?[e,n,t,r].concat(arguments.length>3?h.call(arguments,5):[]):h.call(arguments))},R=function(){return D.apply(d,arguments)},M=function(e,t,n){var r,o,s,u,c,l=m(t);for(r=l.length;r--;)if(t=l[r].replace(a,""),(u=l[r].replace(i,""))&&(u=m(u,".")),u||n||!e[p])for(c=k.get(e,t,null,!1),n=[!1].concat(n),o=0,s=c.length;s>o;o++)c[o].inNamespaces(u)&&c[o].handler.apply(e,n);else q(w[t],t,e);return e},H=function(e,t,n){for(var r,o,i=k.get(t,n,null,!1),a=i.length,s=0;a>s;s++)i[s].original&&(r=[e,i[s].type],(o=i[s].handler.__beanDel)&&r.push(o.selector),r.push(i[s].original),D.apply(null,r));return e},I={on:D,add:N,one:R,off:P,remove:P,clone:H,fire:M,Event:_,setSelectorEngine:C,noConflict:function(){return t[e]=o,this}};if(r.attachEvent){var $=function(){var e,t=k.entries();for(e in t)t[e].type&&"unload"!==t[e].type&&P(t[e].element,t[e].type);r.detachEvent("onunload",$),r.CollectGarbage&&r.CollectGarbage()};r.attachEvent("onunload",$)}return C(),I}),define("common/utils/clamp",["bonzo","bean"],function(e,t){var n=function(n,r,o){var i,a=n.clientHeight,s=getComputedStyle(n).getPropertyValue("line-height"),u=(parseInt(s,10)+(o?2:0))*r,c=e(e.create('<span class="clamp__fade"></span>')),l=e(n);u>a||(l.css({maxHeight:u+"px",overflow:"hidden"}),l.after(c),o&&(i=e(e.create('<span class="clamp__fade-content u-fauxlink" role="button">Read more</span>')),c.append(i),t.on(i[0],"click",function(){c.remove(),l.css({maxHeight:"none",overflow:"auto"})})))};return n}),define("common/utils/pad",[],function(){return function(e,t){for(var n=""+e;n.length<t;)n="0"+n;return n}}),define("common/utils/config",["lodash/objects/assign","common/utils/pad"],function(e,t){var n=guardian.config;return e({hasTone:function(e){return(n.page.tones||"").indexOf(e)>-1},hasSeries:function(e){return(n.page.series||"").indexOf(e)>-1},referencesOfType:function(e){return(n.page.references||[]).filter(function(t){return"undefined"!=typeof t[e]}).map(function(t){return t[e]})},referenceOfType:function(e){return this.referencesOfType(e)[0]},webPublicationDateAsUrlPart:function(){if(this.page.webPublicationDate){var e=new Date(this.page.webPublicationDate);return e.getFullYear()+"/"+t(e.getMonth()+1,2)+"/"+t(e.getDate(),2)}},dateFromSlug:function(){var e=n.page.pageId.match(/\d{4}\/\w{3}\/\d{2}/);return e?e[0]:null}},n)}),define("common/utils/context",[],function(){var e=document.body,t=function(){return e};return t.set=function(t){e=t},t}),define("common/utils/cookies",[],function(){function e(e){for(var t=0,n=e.length;n>t;++t)r(e[t])}function t(){return document.domain.replace(/^(www|dev)\./,".")}function n(e){t()!==document.domain&&e.forEach(function(e){a(e).length>1&&r(e)})}function r(e){document.cookie=e+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;"}function o(e,n,r){var o=new Date;r?o.setDate(o.getDate()+r):(o.setMonth(o.getMonth()+5),o.setDate(1)),document.cookie=e+"="+n+"; path=/; expires="+o.toUTCString()+"; domain="+t()+";"}function i(e,n,r){if(r){var i=new Date;i.setMinutes(i.getMinutes()+r),document.cookie=e+"="+n+"; path=/; expires="+i.toUTCString()+"; domain="+t()+";"}else o(e,n)}function a(e){var t=[],n=e+"=",r=document.cookie.split(";");return r.forEach(function(e){for(;" "===e.charAt(0);)e=e.substring(1,e.length);0===e.indexOf(n)&&t.push(e.substring(n.length,e.length))}),t}function s(e){var t=a(e);return t.length>0?t[0]:null}return{cleanUp:e,cleanUpDuplicates:n,add:o,addForMinutes:i,remove:r,get:s}}),define("common/utils/deferToLoad",[],function(){function e(e){e()}return e}),function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype,o=this,i=o.EventEmitter;r.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,n){var r,o=this.getListenersAsObject(e),i="object"==typeof n;for(r in o)o.hasOwnProperty(r)&&-1===t(o[r],n)&&o[r].push(i?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,n){var r,o,i=this.getListenersAsObject(e);for(o in i)i.hasOwnProperty(o)&&(r=t(i[o],n),-1!==r&&i[o].splice(r,1));return this},r.off=n("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,o,i=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)i.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(o=t[r])&&("function"==typeof o?i.call(this,r,o):a.call(this,r,o));return this},r.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(e,t){var n,r,o,i,a=this.getListenersAsObject(e);for(o in a)if(a.hasOwnProperty(o))for(r=a[o].length;r--;)n=a[o][r],n.once===!0&&this.removeListener(e,n.listener),i=n.listener.apply(this,t||[]),i===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},r.trigger=n("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return o.EventEmitter=i,e},"function"==typeof define&&define.amd?define("EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),define("common/utils/mediator",["EventEmitter"],function(e){var t=null;return t||(t=new e),t}),define("common/utils/storage",["common/utils/mediator"],function(e){var t=window,n=function(e){this.type=e};return n.prototype.setWindow=function(e){t=e},n.prototype.isAvailable=function(n){var r="local-storage-module-test",o=n||"test";try{return t[this.type].setItem(r,o),t[this.type].removeItem(r),!0}catch(i){return e.emit("module:error","Unable to save to local storage: "+i.message,"common/utils/storage.js"),!1}},n.prototype.set=function(e,n,r){if(t[this.type]){var o=r||{},i=JSON.stringify({value:n,expires:o.expires});return this.isAvailable(i)?t[this.type].setItem(e,i):!1}},n.prototype.get=function(e){if(t[this.type]){var n=t[this.type].getItem(e);if(null===n)return null;var r;try{r=JSON.parse(n)}catch(o){return this.remove(e),null}return r.expires&&new Date>new Date(r.expires)?(this.remove(e),null):r.value}},n.prototype.remove=function(e){return t[this.type].removeItem(e)},n.prototype.removeAll=function(){return t[this.type].clear()},n.prototype.length=function(){return t[this.type].length},n.prototype.getKey=function(e){return t[this.type].key(e)},n.prototype.clearByPrefix=function(e){for(var t=this.length()-1;t>-1;--t){var n=this.getKey(t);0===n.indexOf(e)&&this.remove(n)}},{local:new n("localStorage"),session:new n("sessionStorage")}}),define("common/modules/userPrefs",["common/utils/storage"],function(e){function t(e,t){d.set(p+e,t)}function n(e){return d.get(p+e)}function r(e){d.remove(p+e)}function o(e){d.set(p+"switch."+e,!0)}function i(e){d.set(p+"switch."+e,!1)}function a(e){d.remove(p+"switch."+e)}function s(e){return d.get(p+"switch."+e)===!0}function u(e){return d.get(p+"switch."+e)===!1}function c(e){return!isNaN(e)}function l(e){return"true"===e||"false"===e}function f(e){for(var n=e.hash.substr(1).split("&"),r=0,a=n.length;a>r;++r){var s=n[r].match(/^gu\.prefs\.(.*)=(.*)$/);if(s){var u=s[1],f=s[2];switch(u){case"switchOn":o(f);break;case"switchOff":i(f);break;default:var p=c(f)?+f:l(f)?"true"===String(f).toLowerCase():f;t(u,p)}}}}var p="gu.prefs.",d=e.local;return f(window.location),{set:t,get:n,remove:r,switchOn:o,switchOff:i,removeSwitch:a,isOn:s,isOff:u,setPrefs:f}}),define("common/utils/detect",["common/modules/userPrefs","common/utils/mediator"],function(e,t){function n(){var e=l();return function(t){var n=l();n!==e&&(e=n,t(n))}}function r(e){var t,n,r,o=e||window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;return o&&o.timing&&(t=o.timing.requestStart||o.timing.fetchStart||o.timing.navigationStart,n=o.timing.responseEnd,t&&n&&(r=n-t)),r}function o(e,t,n){t=t||navigator.connection||navigator.mozConnection||navigator.webkitConnection||{type:"unknown"};var o=3===t.type||4===t.type||/^[23]g$/.test(t.type);if(o)return"low";var i=r(e),a="high";return n&&(a="unknown"),i&&i>1e3&&(a="medium",i>3e3&&(a="low")),a}function i(e){var t="woff";return e=e.toLowerCase(),e.indexOf("android")>-1&&(t="ttf"),t}function a(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}function s(){return void 0!==h?h:(window.history&&history.pushState&&(h=!0,window.navigator.userAgent.match(/Android/i)&&(h=!!window.navigator.userAgent.match(/(Chrome|Firefox)/i))),h)}function u(){var e=document.createElement("video"),t={};try{e.canPlayType&&(t.mp4=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),t.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),t.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(n){}return t}function c(){return window.innerHeight>window.innerWidth?"portrait":"landscape"}function l(){var e=document.body&&window.getComputedStyle(document.body,":after").getPropertyValue("content")||"mobile";return e.replace(/^"([^"]*)"$/,"$1")}function f(){function e(e){var r="visible",o="hidden",i={focus:r,focusin:r,pageshow:r,blur:o,focusout:o,pagehide:o};e=e||window.event,m=e.type in i?i[e.type]:this[n]?"hidden":"visible",t.emit("modules:detect:pagevisibility:"+m)}var n="hidden";n in document?document.addEventListener("visibilitychange",e):(n="mozHidden")in document?document.addEventListener("mozvisibilitychange",e):(n="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",e):(n="msHidden")in document?document.addEventListener("msvisibilitychange",e):"onfocusin"in document?document.onfocusin=document.onfocusout=e:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=e}function p(){return"visible"===m}function d(){return"WebSocket"in window}var h,m=document.visibilityState||document.webkitVisibilityState||document.mozVisibilityState||document.msVisibilityState||"visible";return{hasCrossedBreakpoint:n,getConnectionSpeed:o,getFontFormatSupport:i,getVideoFormatSupport:u,hasTouchScreen:a,hasPushStateSupport:s,getOrientation:c,getBreakpoint:l,initPageVisibility:f,pageVisible:p,hasWebSocket:d,getPageSpeed:r}}),define("common/utils/easing",[],function(){function e(e,n){var r=new Date,o=t[e];return function(){var e=new Date-r;return o(Math.min(1,e/n))}}var t={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return.5>e?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return.5>e?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return.5>e?16*e*e*e*e*e:1+16*--e*e*e*e*e}};return{functions:t,create:e}}),define("lodash/objects/has",[],function(){function e(e,t){return e?n.call(e,t):!1}var t=Object.prototype,n=t.hasOwnProperty;return e}),define("common/utils/get-property",["lodash/objects/has"],function(e){return function(t,n,r){var o=n.split(".").reduce(function(t,n){return e(t,n)?t[n]:void 0},t);return void 0!==o?o:void 0!==r?r:!1}}),define("common/utils/page",["common/utils/$","common/utils/config","lodash/objects/assign","lodash/collections/find"],function(e,t,n,r){function o(e,t,n,r){return e?t?t(r||e):r||e:n?n():!1}function i(e,i){var a=t.referencesOfType("paFootballTeam"),s=t.page.footballMatch||{};return n(s,{date:t.webPublicationDateAsUrlPart(),teams:a,isLive:t.page.isLive,pageType:r([["minbymin",t.page.isLiveBlog],["report",t.hasTone("Match reports")],["preview",t.hasSeries("Match previews")],["stats",s.id],[null,!0]],function(e){return e[1]===!0})[0]}),o(s.id||s.pageType&&2===s.teams.length,e,i,s)}function a(t,n){var r=(e(".js-football-competition").attr("data-link-name")||"").replace("keyword: football/","");return o(r,t,n)}function s(e,n){return o(t.hasSeries("Clockwatch"),e,n)}function u(e,n){return s(function(){return o(t.page.isLive,e,n)},n)}function c(e,n){return o(t.page.hasOwnProperty("footballMatch"),e,n)}function l(t,n){var r=e(".js-after-article")[0],i=r?"none"!==window.getComputedStyle(r).getPropertyValue("display"):!1;return o(i,t,n,r)}return{isMatch:i,isCompetition:a,isClockwatch:s,isLiveClockwatch:u,isFootballStatsPage:c,belowArticleVisible:l}}),define("common/utils/request-animation-frame",[],function(){function e(e){for(var t=0,n=["ms","moz","webkit","o"],r=0;r<n.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[n[r]+"RequestAnimationFrame"];window.requestAnimationFrame?window.requestAnimationFrame(e):window.requestAnimationFrame=function(e){var n=(new Date).getTime(),r=Math.max(0,16-(n-t)),o=window.setTimeout(function(){e(n+r)},r);return t=n+r,o}}return e}),define("common/utils/scroller",["common/utils/easing","bonzo"],function(e,t){function n(n,r,o){var i=t(document.body),a=n,s=i.scrollTop(),u=a-s,c=e.create(o||"easeOutQuad",r),l=function(){i.scrollTop(s+c()*u)},f=window.setInterval(l,15);window.setTimeout(function(){window.clearInterval(f),i.scrollTop(a)},r)}function r(e,r,o){var i=t(e).offset().top;n(i,r,o)}return{scrollToElement:r,scrollTo:n}}),define("common/utils/template",[],function(){return function(e,t){return Object.keys(t).reduce(function(e,n){return e.replace(new RegExp("{{"+n+"}}","g"),t[n])},e)}}),define("common/utils/time",[],function(){return{currentDate:function(){return new Date}}}),define("common/utils/to-array",[],function(){function e(e){return Array.prototype.slice.call(e)}return e}),define("common/utils/url",["lodash/objects/isArray","lodash/objects/pairs","common/utils/detect","common/utils/mediator"],function(e,t,n,r){var o=n.hasPushStateSupport(),i={getUrlVars:function(e){for(var t,n=e||{},r={},o=(n.query||i.getCurrentQueryString()).split("&"),a=o.length,s=0;a>s;s++)t=o[s].split("="),r[t[0]]=t[1];return r},getCurrentQueryString:function(){return window.location.search.replace(/^\?/,"")},pushQueryString:function(e){e.querystring&&o&&i.getCurrentQueryString()!==e.querystring&&history.pushState(e.state||{},e.title||window.title,e.querystring+window.location.hash)},constructQuery:function(n){return t(n).map(function(t){var n=t[1];return e(n)&&(n=n.join(",")),[t[0],"=",n].join("")}).join("&")},pushUrl:function(e,t,n,r){o&&window.history[r?"replaceState":"pushState"](e,t,n)}};return r.on("modules:url:pushquerystring",i.pushQueryString),{getUrlVars:i.getUrlVars,pushUrl:i.pushUrl,constructQuery:i.constructQuery}}),define("common/utils/userTiming",[],function(){function e(e){t&&"mark"in t&&t.mark("gu."+e)}var t=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;return{mark:e}}),define("common/modules/asyncCallMerger",[],function(){function e(e){function t(){a=arguments,i="complete";for(var e=0;e<o.length;e++)o[e].apply(null,a)}function n(n){"init"===i?(i="waiting",o.push(n),e(t)):"waiting"===i?o.push(n):n.apply(null,a)}function r(){o=[],i="init",a=null}var o,i,a;return r(),n.reset=r,n}return{mergeCalls:e}}),define("common/modules/identity/api",["common/utils/atob","common/utils/cookies","common/utils/storage","common/utils/ajax","common/modules/asyncCallMerger"],function(e,t,n,r,o){var i={},a=null;return i.cookieName="GU_U",i.signOutCookieName="GU_SO",i.fbCheckKey="gu.id.nextFbCheck",i.idApiRoot=null,i.idUrl=null,i.init=function(e){i.idApiRoot=e.page.idApiUrl,i.idUrl=e.page.idUrl},i.reset=function(){i.getUserFromApi.reset(),a=null},i.getUserFromCookie=function(){if(null===a){var e=t.get(i.cookieName),n=e?JSON.parse(i.decodeBase64(e.split(".")[0])):null;n&&(a={id:n[0],primaryEmailAddress:n[1],displayName:n[2],accountCreatedDate:n[6],emailVerified:n[7],rawResponse:e})}return a},i.getCookie=function(){return t.get(i.cookieName)},i.isUserLoggedIn=function(){return null!==i.getUserFromCookie()},i.getUrl=function(){return i.idUrl},i.getUserFromApi=o.mergeCalls(function(e){i.isUserLoggedIn()?r({url:i.idApiRoot+"/user/me",type:"jsonp",crossOrigin:!0}).then(function(t){e("ok"===t.status?t.user:null)}):e(null)}),i.getUserFromApiWithRefreshedCookie=function(){var e="/user/me",t=r({url:i.idApiRoot+e,type:"jsonp",data:{refreshCookie:!0}});return t},i.getUserOrSignIn=function(e){if(i.isUserLoggedIn())return i.getUserFromCookie();e=encodeURIComponent(e||document.location.href);var t=i.getUrl()+"/signin?returnUrl="+e;i.redirectTo(t)},i.redirectTo=function(e){window.location.href=e},i.decodeBase64=function(t){return decodeURIComponent(escape(e(t.replace(/-/g,"+").replace(/_/g,"/").replace(/,/g,"="))))},i.hasUserSignedOutInTheLast24Hours=function(){var e=t.get(i.signOutCookieName);return e?Math.round((new Date).getTime()/1e3)<parseInt(e,10)+86400:!1},i.shouldAutoSigninInUser=function(){var e=!!t.get(i.cookieName),r=!!n.local.get(i.fbCheckKey);return!e&&!r&&!this.hasUserSignedOutInTheLast24Hours()},i.setNextFbCheckTime=function(e){n.local.set(i.fbCheckKey,{},{expires:e})},i.emailSignup=function(e){var t="/useremails/"+i.getUserFromCookie().id+"/subscriptions",n={listId:e},o=r({url:i.idApiRoot+t,type:"jsonp",crossOrigin:!0,data:{body:JSON.stringify(n),method:"post"}});return o},i.sendValidationEmail=function(){var e="/user/send-validation-email",t=r({url:i.idApiRoot+e,type:"jsonp",crossOrigin:!0,data:{method:"post"}});return t},i}),define("common/modules/commercial/user-ad-targeting",["common/utils/storage","common/modules/identity/api","common/utils/time"],function(e,t,n){function r(){if(e.local.isAvailable()){var n=e.local.get(i),r=t.getUserFromCookie();if(n){if(r&&n.userHash===r.id%9999)return n.segments;e.local.remove(i)}}return[]}function o(){e.local.isAvailable()&&null===e.local.get(i)&&t.getUserFromCookie()&&t.getUserFromApi(function(t){if(t&&t.adData){var r=[];for(var o in t.adData)r.push(o+t.adData[o]);e.local.set(i,{segments:r,userHash:t.id%9999},{expires:n.currentDate().getTime()+864e5})}})}var i="gu.ads.userSegmentsData";return{getUserSegments:r,requestUserSegmentsFromId:o}}),define("lodash/utilities/now",["../internals/isNative"],function(e){var t=e(t=Date.now)&&t||function(){return(new Date).getTime()};return t}),define("lodash/functions/debounce",["../objects/isFunction","../objects/isObject","../utilities/now"],function(e,t,n){function r(r,a,s){var u,c,l,f,p,d,h,m=0,g=!1,y=!0;if(!e(r))throw new TypeError;if(a=i(0,a)||0,s===!0){var v=!0;y=!1}else t(s)&&(v=s.leading,g="maxWait"in s&&(i(a,s.maxWait)||0),y="trailing"in s?s.trailing:y);var b=function(){var e=a-(n()-f);if(0>=e){c&&clearTimeout(c);var t=h;c=d=h=o,t&&(m=n(),l=r.apply(p,u),d||c||(u=p=null))}else d=setTimeout(b,e)},w=function(){d&&clearTimeout(d),c=d=h=o,(y||g!==a)&&(m=n(),l=r.apply(p,u),d||c||(u=p=null))};return function(){if(u=arguments,f=n(),p=this,h=y&&(d||!v),g===!1)var e=v&&!d;else{c||v||(m=f);var t=g-(f-m),o=0>=t;o?(c&&(c=clearTimeout(c)),m=f,l=r.apply(p,u)):c||(c=setTimeout(w,t))}return o&&d?d=clearTimeout(d):d||a===g||(d=setTimeout(b,a)),e&&(o=!0,l=r.apply(p,u)),!o||d||c||(u=p=null),l}}var o,i=Math.max;return r}),define("lodash/functions/once",["../objects/isFunction"],function(e){function t(t){var n,r;if(!e(t))throw new TypeError;return function(){return n?r:(n=!0,r=t.apply(this,arguments),t=null,r)}}return t}),define("lodash/objects/defaults",["./keys","../internals/objectTypes"],function(e,t){var n=function(n,r,o){var i,a=n,s=a;if(!a)return s;for(var u=arguments,c=0,l="number"==typeof o?2:u.length;++c<l;)if(a=u[c],a&&t[typeof a])for(var f=-1,p=t[typeof a]&&e(a),d=p?p.length:0;++f<d;)i=p[f],"undefined"==typeof s[i]&&(s[i]=a[i]);return s};return n}),define("common/modules/commercial/tags/audience-science",["common/utils/cookies","common/utils/storage","common/utils/config"],function(e,t,n){function r(){var e=t.local.get("gu.ads.audsci");return e?e.slice(0,40):[]}function o(){return n.switches.audienceScience?(window.DM_prepClient=function(e,t){t.DM_addEncToLoc("siteName",""),t.DM_addEncToLoc("comFolder",""),t.DM_addEncToLoc("mobile",!0),n.page.audienceScienceData.forEach(function(e){t.DM_addEncToLoc(e.name,e.value)})},window.DM_onSegsAvailable=function(n){t.local.set("gu.ads.audsci",i(n)),e.cleanUp(["rsi_segs"])},require(["js!"+a+"!exports=rsi_now"],function(){window.E05516.DM_tag()})):void 0}function i(e){for(var t=[],n=/.*_5.*/,r=/([^_]{2})[^_]*_(.*)/,o=0,i=e.length;i>o&&100>o;++o)if(!n.test(e[o])){var a=r.exec(e[o]);null!==a&&(t.push(a[1]+a[2]),++o)}return t}var a="//js.revsci.net/gateway/gw.js?csid=E05516";return{getSegments:r,load:o}}),define("common/modules/commercial/tags/audience-science-gateway",["lodash/functions/once","common/utils/config","common/utils/url"],function(e,t,n){var r="//pq-direct.revsci.net/pql",o={sport:["FKSWod","2xivTZ","MTLELH"],football:["6FaXJO","ORE2W-","MTLELH"],lifeandstyle:["TQV1_5","J0tykU","kLC9nW","MTLELH"],technology:["9a9VRE","TL3gqK","MTLELH"],fashion:["TQV1_5","J0tykU","kLC9nW","MTLELH"],news:["eMdl6Y","mMYVrM","MTLELH"],"default":["c7Zrhu","Y1C40a","LtKGsC","MTLELH"]},i={},a=e(function(){if(t.switches.audienceScience){var e=o[t.page.section]||o["default"],a=n.constructQuery({placementIdList:e.join(","),cb:(new Date).getTime()}),s=[r,"?",a].join("");return require(["js!"+s+"!exports=asiPlacements"]).then(function(e){for(var t in e)e[t]["default"]&&(i["pq_"+t]="T")})}}),s=function(){return i};return{load:a,getSegments:s}}),define("common/modules/commercial/tags/criteo",["qwery","common/utils/$","common/utils/cookies","common/utils/config","lodash/objects/defaults"],function(e,t,n,r,o){function i(){var e={};if(r.switches&&r.switches.criteo){var t=n.get(u);if(null!==t){var o=decodeURIComponent(t).split("&");o.forEach(function(t){var n=t.split("=");e[n[0]]=n[1]})}}return e}function a(e){if(e=o(e||{},r,{switches:{}}),e.switches.criteo){var t=[["netid",s],["cookieName",u],["rnd",Math.floor(99999999999*Math.random())],["varName","crtg_content"]].map(function(e){return e.join("=")}).join("&");return require(["js!"+c+"?"+t+"!exports=crtg_content"])}}var s="1476",u="cto2_guardian",c="//rtax.criteo.com/delivery/rta/rta.js";return{load:a,getSegments:i}}),define("common/modules/commercial/keywords",[],function(){function e(e){return e.replace(/[+\s]+/g,"-").toLowerCase()}function t(t){return t.keywords.split(",").map(function(t){return"k="+encodeURIComponent(e(t))}).join("&")}return{get:t,format:e}}),define("common/modules/commercial/dfp",["bonzo","qwery","lodash/functions/debounce","lodash/arrays/flatten","lodash/arrays/uniq","lodash/functions/once","lodash/objects/defaults","lodash/objects/isArray","lodash/objects/pairs","common/utils/$","common/utils/cookies","common/utils/detect","common/utils/mediator","common/utils/config","common/utils/template","common/modules/commercial/tags/audience-science","common/modules/commercial/tags/audience-science-gateway","common/modules/commercial/tags/criteo","common/modules/commercial/keywords","common/modules/commercial/user-ad-targeting"],function(bonzo,qwery,debounce,flatten,uniq,once,defaults,isArray,pairs,$,cookies,detect,mediator,globalConfig,template,audienceScience,audienceScienceGateway,criteo,keywords,userAdTargeting){var adSlots=[],slotsToRefresh=[],config={},breakpoints={mobile:0,mobilelandscape:480,tabletportrait:740,tabletlandscape:900,desktop:980,wide:1300},breakoutHash={breakout__html:"%content%",breakout__script:"<script>%content%</script>"},adSlotDefinitions={right:{sizeMappings:{tabletlandscape:"300,250|300,600"}},inline1:{sizeMappings:{mobile:"300,50",mobilelandscape:"300,50|320,50",tabletportrait:"300,250"}},inline2:{sizeMappings:{mobile:"300,50",mobilelandscape:"300,50|320,50",tabletportrait:"300,250"}},"merchandising-high":{label:!1,refresh:!1,sizeMappings:{desktop:"888,88|88,88"}},spbadge:{label:!1,refresh:!1,sizeMappings:{mobile:"140,90"}},adbadge:{label:!1,refresh:!1,sizeMappings:{mobile:"140,90"}}},parseAd=function(e){var t=$("#"+e.slot.getSlotId().getDomId());e.isEmpty?removeLabel(t):(checkForBreakout(t),addLabel(t))},addLabel=function(e){shouldRenderLabel(e)&&e.prepend('<div class="ad-slot__label">Advertisement</div>')},removeLabel=function(e){$(".ad-slot__label",e).remove()},shouldRenderLabel=function(e){return e.data("label")!==!1&&0===qwery(".ad-slot__label",e[0]).length},checkForBreakout=function($slot){var iFrame=qwery("iframe",$slot[0])[0];if(iFrame){var frameContents=iFrame.contentDocument.body;for(var cls in breakoutHash){var $el=$("."+cls,frameContents);$el.length>0&&("script"===$el[0].nodeName.toLowerCase()?eval($el.html()):$slot.html("").first().append(breakoutHash[cls].replace(/%content%/g,$el.html())))}}},refresh=function(){googletag.pubads().refresh(slotsToRefresh)},createSizeMapping=function(e){return e.split("|").map(function(e){return e.split(",").map(Number)})},defineSlotSizes=function(e){var t=googletag.sizeMapping();for(var n in breakpoints){var r=e.data(n),o=breakpoints[n];r&&t.addSize([o,0],createSizeMapping(r))}return t.build()},buildPageTargeting=function(e){function t(e){return e?keywords.format(e).replace(/&/g,"and").replace(/'/g,""):""}var n=e.page,r=t(n.section),o=t(n.series),i=t(n.contentType),a=t(n.edition);return defaults({url:window.location.pathname,edition:a,cat:r,se:o,ct:i,pt:i,p:"ng",k:parseKeywords(n.keywordIds||n.pageId),su:n.isSurging?"1":"0",bp:detect.getBreakpoint(),a:audienceScience.getSegments(),at:cookies.get("adtest")||"",gdncrm:userAdTargeting.getUserSegments()},audienceScienceGateway.getSegments(),criteo.getSegments())},createAdSlot=function(e,t,n){var r=adSlotDefinitions[e],o={refresh:void 0!==r.refresh?r.refresh:!0,label:void 0!==r.label?r.label:!0},i=$.create(template('<div id="dfp-ad--{{name}}" class="ad-slot ad-slot--dfp ad-slot--{{name}} {{types}}" data-link-name="ad slot {{name}}" data-name="{{name}}"{{sizeMappings}}></div>',{name:e,types:(isArray(t)?t:[t]).map(function(e){return"ad-slot--"+e}).join(" "),sizeMappings:pairs(r.sizeMappings).map(function(e){return" data-"+e[0]+'="'+e[1]+'"'}).join("")}));for(var a in o)o[a]===!1&&i.attr("data-"+a,"false");return n&&i.attr("data-keywords",n),i[0]},parseKeywords=function(e){return(e||"").split(",").map(function(e){return e.split("/").pop()})},setListeners=function(){googletag.pubads().addEventListener("slotRenderEnded",parseAd)},setPageTargeting=function(){var e=buildPageTargeting(config);for(var t in e)e.hasOwnProperty(t)&&googletag.pubads().setTargeting(t,e[t])},defineSlots=function(){var e=config.page.adUnit;adSlots.forEach(function(t){var n=t.attr("id"),r=defineSlotSizes(t),o=uniq(flatten(r,!0,function(e){return e[1]}),function(e){return e[0]+"-"+e[1]}),i=(t.data("out-of-page")?googletag.defineOutOfPageSlot(e,n):googletag.defineSlot(e,o,n)).addService(googletag.pubads()).defineSizeMapping(r).setTargeting("slot",t.data("name"));t.data("keywords")&&i.setTargeting("k",parseKeywords(t.data("keywords"))),t.data("refresh")!==!1&&slotsToRefresh.push(i)})},fireAdRequest=function(){googletag.pubads().enableSingleRequest(),googletag.pubads().collapseEmptyDivs(),googletag.enableServices(),googletag.display(adSlots.shift().attr("id"))},postDisplay=function(){var e=detect.hasCrossedBreakpoint();mediator.on("window:resize",debounce(function(){e(refresh)},2e3))},init=function(e){return config=defaults(e||{},globalConfig,{adSlotSelector:".ad-slot--dfp",page:{},switches:{}}),config.switches.standardAdverts||config.switches.commercialComponents?(config.switches.standardAdverts?config.switches.commercialComponents||(config.adSlotSelector=".ad-slot--dfp:not(.ad-slot--commercial-component)"):config.adSlotSelector=".ad-slot--commercial-component",adSlots=qwery(config.adSlotSelector).map(function(e){return bonzo(e)}).filter(function(e){return"none"!==e.css("display")}),adSlots.length>0&&(window.googletag||(window.googletag={cmd:[]}),window.googletag.cmd.push(setListeners),window.googletag.cmd.push(setPageTargeting),window.googletag.cmd.push(defineSlots),window.googletag.cmd.push(fireAdRequest),window.googletag.cmd.push(postDisplay)),dfp):!1},dfp={init:once(init),getAdSlots:function(){return adSlots},buildPageTargeting:buildPageTargeting,createAdSlot:createAdSlot,reset:function(){return adSlots=[],slotsToRefresh=[],dfp.init=once(init),adSlots}};return dfp}),define("common/modules/component",["bean","qwery","bonzo","common/utils/ajax","lodash/objects/assign","lodash/objects/clone"],function(e,t,n,r,o,i){function a(e){return new Error("Component: "+e)}var s=function(){};return s.prototype.useBem=!1,s.prototype.templateName=null,s.prototype.componentClass=null,s.prototype.endpoint=null,s.prototype.classes=null,s.prototype.elem=null,s.prototype.model=null,s.prototype.template=null,s.prototype.rendered=!1,s.prototype.destroyed=!1,s.prototype.elems=null,s.prototype.options=null,s.prototype.defaultOptions={},s.prototype.responseDataKey="html",s.prototype.autoupdated=!1,s.prototype.updateEvery=60,s.prototype.t=null,s.prototype.fetchData=null,s.prototype.manipulationType="append",s.prototype.attachTo=function(e){if(this.checkAttached(),!e)throw new a("Need element to attach to");this.elem=e,this._prerender(),this._ready()},s.prototype.render=function(e){this.checkAttached();var t=n.create(this.template?this.template:document.getElementById("tmpl-"+this.templateName).innerHTML)[0],r=e||document.body;this.elem=t,this._prerender(),n(r).append(this.elem),this._ready()},s.prototype.checkAttached=function(){if(this.rendered)throw new a("Already rendered")},s.prototype.fetch=function(e,t){this.checkAttached(),this.responseDataKey=t||this.responseDataKey;var r=this;return this._fetch().then(function(t){r.elem=n.create(t[r.responseDataKey])[0],r._prerender(),r.destroyed||(n(e)[r.manipulationType](r.elem),r._ready())}).fail(function(){r.error()})},s.prototype._fetch=function(){var e,t=this.endpoint;for(e in this.options)t=t.replace(":"+e,this.options[e]);return r({url:t,type:"json",method:"get",crossOrigin:!0,data:this.fetchData})},s.prototype._ready=function(){this.destroyed||(this.rendered=!0,this._autoupdate(),this.ready())},s.prototype._prerender=function(){this.elems={},this.prerender()},s.prototype._autoupdate=function(){function e(){t._fetch().then(function(r){t.autoupdate(n.create(r[t.responseDataKey])[0]),t.autoupdated&&(t.t=setTimeout(e,1e3*t.updateEvery))},function(){t.t=setTimeout(e,1e3*t.updateEvery)})}var t=this;this.autoupdated&&(this.t=setTimeout(e,1e3*this.updateEvery))},s.prototype.prerender=function(){},s.prototype.ready=function(){},s.prototype.error=function(){},s.prototype.autoupdate=function(e){var t=this.elem;this.elem=e,this._prerender(),n(t).replaceWith(this.elem)},s.prototype.dispose=function(){},s.prototype.on=function(t,n,r){"function"==typeof n?(r=n,e.on(this.elem,t,r.bind(this))):(n=n.length?n:[n],e.on(this.elem,t,n,r.bind(this)))},s.prototype.emit=function(t,n){e.fire(this.elem,t,n)
},s.prototype.getElem=function(e){if(this.elems[e])return this.elems[e];var n=t(this.getClass(e),this.elem)[0];return this.elems[e]=n,n},s.prototype.getClass=function(e,t){var n=this.useBem?this.componentClass+"__"+e:this.classes[e];return(t?"":".")+n},s.prototype.setState=function(e,t){var r=t?this.getElem(t):this.elem;n(r).addClass(this.componentClass+(t?"__"+t:"")+"--"+e)},s.prototype.removeState=function(e,t){var r=t?this.getElem(t):this.elem;return n(r).removeClass(this.componentClass+(t?"__"+t:"")+"--"+e)},s.prototype.toggleState=function(e,t){var r=t?this.getElem(t):this.elem;n(r).toggleClass(this.componentClass+(t?"__"+t:"")+"--"+e)},s.prototype.hasState=function(e,t){var r=t?this.getElem(t):this.elem;return n(r).hasClass(this.componentClass+(t?"__"+t:"")+"--"+e)},s.prototype.setOptions=function(e){this.options=o(i(this.defaultOptions),this.options||{},e)},s.prototype.detach=function(){e.off(this.elem)},s.prototype.destroy=function(){this.elem&&(n(this.elem).remove(),delete this.elem),clearTimeout(this.t),this.t=null,this.autoupdated=!1,this.detach(),this.destroyed=!0,this.rendered=!1},s.define=function(e){function t(){}t.prototype=s.prototype,e.prototype=new t,e.prototype.constructor=e},s}),define("common/modules/lazyload",["lodash/objects/assign","common/utils/ajax","bonzo"],function(e,t,n){var r=function(r){var o,i={success:function(){},error:function(){},always:function(){},beforeInsert:function(e){return e},force:!1},a=e(i,r||{});this.load=function(){return a.url&&a.container&&(o=n(a.container),a.force||!o.hasClass("lazyloaded"))?t({url:a.url,type:"json",crossOrigin:!0}).then(function(e){o.html(a.beforeInsert(e.html)),o.addClass("lazyloaded"),a.success(e)},function(e){a.error(e)}).always(function(e){a.always(e)}):void 0}};return r}),define("common/modules/ui/tabs",["common/utils/$","bean","bonzo"],function(e,t,n){var r=function(){var r={showTab:function(t,r,o){var i="tabs__tab--selected tone-colour tone-accent-border",a=e(".tabs__tab--selected a",t)[0],s=t.querySelector("#"+r.getAttribute("href").substring(1)),u=t.querySelector("#"+a.getAttribute("href").substring(1));n(a.parentNode).removeClass(i),n(r.parentNode).addClass(i),n(a.parentNode).attr("aria-selected",!1),n(r.parentNode).attr("aria-selected",!0),n(u).hide(),n(s).removeClass("js-hidden").show().focus(),o.preventDefault()}};this.init=function(o){Array.prototype.forEach.call(o.querySelectorAll(".tabs"),function(o){var i=e(".js-tabs",o)[0],a=0,s=0,u=0,c=0;if(i){if(i.getAttribute("data-is-bound")===!0)return!1;a=n(i).offset().height,s=n(i).offset().top,t.add(i,"click",function(e){var t=e.target;"a"===t.nodeName.toLowerCase()&&(r.showTab(o,t,e),u=n(o).offset().height-a,c>s&&window.scrollTo(0,s))}),i.setAttribute("data-is-bound",!0)}})}};return r}),require(["raven","lodash/arrays/compact","lodash/arrays/first","lodash/arrays/flatten","lodash/arrays/last","lodash/arrays/uniq","lodash/arrays/zip","lodash/chaining/wrapperValueOf","lodash/collections/every","lodash/collections/filter","lodash/collections/forEach","lodash/collections/map","lodash/collections/max","lodash/collections/pluck","lodash/collections/sortBy","lodash/objects/clone","lodash/objects/functions","lodash/objects/isArguments","lodash/objects/isArray","lodash/objects/isString","lodash/objects/mapValues","lodash/objects/values","lodash/utilities/mixin","common/utils/_","common/utils/$","common/utils/ajax","common/utils/atob","common/utils/clamp","common/utils/config","common/utils/context","common/utils/cookies","common/utils/deferToLoad","common/utils/detect","common/utils/easing","common/utils/get-property","common/utils/mediator","common/utils/page","common/utils/request-animation-frame","common/utils/scroller","common/utils/storage","common/utils/template","common/utils/time","common/utils/to-array","common/utils/url","common/utils/userTiming","common/modules/commercial/user-ad-targeting","common/modules/commercial/dfp","common/modules/component","common/modules/lazyload","common/modules/ui/tabs"],function(){}),define("core",function(){});
//# sourceMappingURL=core.js.map